
###### BEGIN TASK INFO ######
task= atai-100A-org
num_targets= 656
data_dir= MTL/data/atai-100A-org/train
ali_dir= MTL/exp/atai-100A-org/tri_ali
egs_dir= MTL/exp/atai-100A-org/nnet3/egs
###### END TASK INFO ######

### ============================ ###
### CREATE CONFIG FILES FOR NNET ###
### ============================ ###
feat-to-dim scp:MTL/data/atai-100A-org/train/feats.scp - 
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
steps/nnet3/xconfig_to_configs.py --xconfig-file MTL/exp/nnet3/multitask/configs/network.xconfig --config-dir MTL/exp/nnet3/multitask/configs/ --nnet-edits=rename-node old-name=output-0 new-name=output
### ====================================== ###
### COMBINE ALL TASKS EGS INTO ONE BIG DIR ###
### ====================================== ###
steps/nnet3/multilingual/combine_egs.sh --cmd utils/run.pl --lang2weight 1.0 1 MTL/exp/atai-100A-org/nnet3/egs MTL/exp/nnet3/multitask/egs
steps/nnet3/multilingual/combine_egs.sh: allocating multilingual examples for training.
steps/nnet3/multilingual/combine_egs.sh: combine combine.scp examples from all langs in MTL/exp/nnet3/multitask/egs/combine.scp.
steps/nnet3/multilingual/combine_egs.sh: combine train_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/train_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: combine valid_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/valid_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: Finished preparing multilingual training example.
### ================ ###
### BEGIN TRAIN NNET ###
### ================ ###
2018-08-15 15:31:47,936 [steps/nnet3/train_raw_dnn.py:34 - <module> - INFO ] Starting raw DNN trainer (train_raw_dnn.py)
2018-08-15 15:31:47,941 [steps/nnet3/train_raw_dnn.py:181 - train - INFO ] Arguments for the experiment
{'backstitch_training_interval': 1,
 'backstitch_training_scale': 0.0,
 'cleanup': True,
 'cmvn_opts': '--norm-means=false --norm-vars=false',
 'combine_sum_to_one_penalty': 0.0,
 'command': 'utils/run.pl',
 'compute_average_posteriors': False,
 'compute_per_dim_accuracy': False,
 'dir': 'MTL/exp/nnet3/multitask',
 'do_final_combination': True,
 'dropout_schedule': None,
 'egs_command': None,
 'egs_dir': 'MTL/exp/nnet3/multitask/egs',
 'egs_opts': None,
 'egs_stage': 0,
 'email': None,
 'exit_stage': None,
 'feat_dir': 'MTL/data/atai-100A-org/train',
 'final_combination': True,
 'final_effective_lrate': 0.00015,
 'frames_per_eg': 8,
 'image_augmentation_opts': None,
 'initial_effective_lrate': 0.0015,
 'max_lda_jobs': 10,
 'max_models_combine': 20,
 'max_objective_evaluations': 30,
 'max_param_change': 2.0,
 'minibatch_size': '256,128',
 'momentum': 0.0,
 'nj': 4,
 'num_epochs': 4.0,
 'num_jobs_compute_prior': 10,
 'num_jobs_final': 1,
 'num_jobs_initial': 1,
 'online_ivector_dir': None,
 'preserve_model_interval': 100,
 'presoftmax_prior_scale_power': -0.25,
 'prior_subset_size': 20000,
 'proportional_shrink': 0.0,
 'rand_prune': 4.0,
 'remove_egs': True,
 'reporting_interval': 0.1,
 'samples_per_iter': 10000,
 'shuffle_buffer_size': 5000,
 'srand': 0,
 'stage': -5,
 'targets_scp': 'MTL/exp/atai-100A-org/tri_ali',
 'transform_dir': None,
 'use_dense_targets': False,
 'use_gpu': True}
2018-08-15 15:31:47,949 [steps/nnet3/train_raw_dnn.py:294 - train - INFO ] Preparing the initial network.
2018-08-15 15:31:48,340 [steps/nnet3/train_raw_dnn.py:328 - train - INFO ] Training will run for 4.0 epochs = 32 iterations
2018-08-15 15:31:48,341 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 0)
2018-08-15 15:31:48,343 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 0, learning rate is 0.0015.
2018-08-15 15:32:19,124 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 1)
2018-08-15 15:32:19,144 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 1, learning rate is 0.0013958580613945483.
2018-08-15 15:32:47,034 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 2)
2018-08-15 15:32:47,056 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 2, learning rate is 0.001298946485040098.
2018-08-15 15:33:21,073 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 3)
2018-08-15 15:33:21,108 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 3, learning rate is 0.0012087632816422226.
2018-08-15 15:33:54,116 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 4)
2018-08-15 15:33:54,136 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 4, learning rate is 0.0011248413139986837.
2018-08-15 15:34:27,711 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 5)
2018-08-15 15:34:27,724 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 5, learning rate is 0.0010467458772897994.
2018-08-15 15:35:01,998 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 6)
2018-08-15 15:35:02,012 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 6, learning rate is 0.000974072447364317.
2018-08-15 15:35:35,470 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 7)
2018-08-15 15:35:35,483 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 7, learning rate is 0.0009064445853571992.
2018-08-15 15:36:10,326 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 8)
2018-08-15 15:36:10,340 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 8, learning rate is 0.0008435119877855236.
2018-08-15 15:36:43,857 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 9)
2018-08-15 15:36:43,884 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 9, learning rate is 0.0007849486720222419.
2018-08-15 15:37:19,467 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 10)
2018-08-15 15:37:19,488 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 10, learning rate is 0.0007304512877487946.
2018-08-15 15:37:51,633 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 11)
2018-08-15 15:37:51,652 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 11, learning rate is 0.0006797375456401227.
2018-08-15 15:38:27,207 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 12)
2018-08-15 15:38:27,220 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 12, learning rate is 0.0006325447551428733.
2018-08-15 15:38:59,533 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 13)
2018-08-15 15:38:59,552 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 13, learning rate is 0.0005886284637726803.
2018-08-15 15:39:36,531 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 14)
2018-08-15 15:39:36,556 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 14, learning rate is 0.0005477611908822565.
2018-08-15 15:40:08,772 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 15)
2018-08-15 15:40:08,804 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 15, learning rate is 0.0005097312493413838.
2018-08-15 15:40:42,276 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 16)
2018-08-15 15:40:42,285 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 16, learning rate is 0.00047434164902525685.
2018-08-15 15:41:15,987 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 17)
2018-08-15 15:41:16,008 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 17, learning rate is 0.0004414090764313922.
2018-08-15 15:41:48,858 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 18)
2018-08-15 15:41:48,880 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 18, learning rate is 0.0004107629451396541.
2018-08-15 15:42:23,891 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 19)
2018-08-15 15:42:23,905 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 19, learning rate is 0.0003822445121969019.
2018-08-15 15:42:57,974 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 20)
2018-08-15 15:42:57,987 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 20, learning rate is 0.0003557060558492482.
2018-08-15 15:43:35,887 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 21)
2018-08-15 15:43:35,904 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 21, learning rate is 0.0003310101103626884.
2018-08-15 15:44:09,075 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 22)
2018-08-15 15:44:09,086 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 22, learning rate is 0.0003080287539685719.
2018-08-15 15:44:41,896 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 23)
2018-08-15 15:44:41,920 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 23, learning rate is 0.00028664294624556604.
2018-08-15 15:45:15,437 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 24)
2018-08-15 15:45:15,452 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 24, learning rate is 0.0002667419115058384.
2018-08-15 15:45:49,823 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 25)
2018-08-15 15:45:49,848 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 25, learning rate is 0.0002482225649914772.
2018-08-15 15:46:23,722 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 26)
2018-08-15 15:46:23,736 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 26, learning rate is 0.00023098897890892373.
2018-08-15 15:46:58,434 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 27)
2018-08-15 15:46:58,448 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 27, learning rate is 0.0002149518855355444.
2018-08-15 15:47:30,757 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 28)
2018-08-15 15:47:30,776 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 28, learning rate is 0.00020002821482449862.
2018-08-15 15:48:05,519 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 29)
2018-08-15 15:48:05,540 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 29, learning rate is 0.0001861406641127579.
2018-08-15 15:48:37,959 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 30)
2018-08-15 15:48:37,976 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 30, learning rate is 0.00017321729770341867.
2018-08-15 15:49:12,895 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 31)
2018-08-15 15:49:12,908 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 31, learning rate is 0.00015.
2018-08-15 15:49:46,841 [steps/nnet3/train_raw_dnn.py:401 - train - INFO ] Doing final combination to produce final.raw
2018-08-15 15:49:46,841 [steps/libs/nnet3/train/frame_level_objf/common.py:468 - combine_models - INFO ] Combining {32, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31} models.
2018-08-15 15:49:59,947 [steps/nnet3/train_raw_dnn.py:423 - train - INFO ] Cleaning up the experiment directory MTL/exp/nnet3/multitask
MTL/exp/nnet3/multitask: num-iters=31 nj=1..1 num-params=6.1M
steps/nnet3/train_raw_dnn.py --stage=-5 --cmd=utils/run.pl --trainer.num-epochs 4 --trainer.optimization.num-jobs-initial=1 --trainer.optimization.num-jobs-final=1 --trainer.optimization.initial-effective-lrate=0.0015 --trainer.optimization.final-effective-lrate=0.00015 --trainer.optimization.minibatch-size=256,128 --trainer.samples-per-iter=10000 --trainer.max-param-change=2.0 --trainer.srand=0 --feat.cmvn-opts=--norm-means=false --norm-vars=false --feat-dir MTL/data/atai-100A-org/train --egs.dir MTL/exp/nnet3/multitask/egs --use-dense-targets false --targets-scp MTL/exp/atai-100A-org/tri_ali --cleanup.remove-egs true --use-gpu true --dir=MTL/exp/nnet3/multitask
['steps/nnet3/train_raw_dnn.py', '--stage=-5', '--cmd=utils/run.pl', '--trainer.num-epochs', '4', '--trainer.optimization.num-jobs-initial=1', '--trainer.optimization.num-jobs-final=1', '--trainer.optimization.initial-effective-lrate=0.0015', '--trainer.optimization.final-effective-lrate=0.00015', '--trainer.optimization.minibatch-size=256,128', '--trainer.samples-per-iter=10000', '--trainer.max-param-change=2.0', '--trainer.srand=0', '--feat.cmvn-opts=--norm-means=false --norm-vars=false', '--feat-dir', 'MTL/data/atai-100A-org/train', '--egs.dir', 'MTL/exp/nnet3/multitask/egs', '--use-dense-targets', 'false', '--targets-scp', 'MTL/exp/atai-100A-org/tri_ali', '--cleanup.remove-egs', 'true', '--use-gpu', 'true', '--dir=MTL/exp/nnet3/multitask']
use_multitask_egs=True
### ============== ###
### END TRAIN NNET ###
### ============== ###
### ========================== ###
### SPLIT & COPY NNET PER TASK ###
### ========================== ###
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
nnet3-am-init MTL/exp/atai-100A-org/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100A-org/final.mdl 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100A-org/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100A-org.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100A-org MTL/exp/atai-100A-org/nnet3/egs
### ============== ###
### BEGIN DECODING ###
### ============== ###
./run_nnet3_multitask.sh: line 335: 4: command not found
### decoding with  jobs, unigram LM ###
steps/nnet3/decode.sh --nj 4 --cmd utils/run.pl --max-active 250 --min-active 100 exp_atai-100A-org/triphones/graph data_atai-100A-org/test MTL/exp/nnet3/multitask/decode MTL/exp/nnet3/multitask/atai-100A-org/final_adj.mdl SPOKEN_NOISE SIL
steps/nnet3/decode.sh: feature type is raw
Decoding done.

#### BEGIN CALCULATE WER ####
###==============###
### END DECODING ###
###==============###

###### BEGIN TASK INFO ######
task= atai-100B-org
num_targets= 648
data_dir= MTL/data/atai-100B-org/train
ali_dir= MTL/exp/atai-100B-org/tri_ali
egs_dir= MTL/exp/atai-100B-org/nnet3/egs
###### END TASK INFO ######

### ============================ ###
### CREATE CONFIG FILES FOR NNET ###
### ============================ ###
feat-to-dim scp:MTL/data/atai-100B-org/train/feats.scp - 
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
steps/nnet3/xconfig_to_configs.py --xconfig-file MTL/exp/nnet3/multitask/configs/network.xconfig --config-dir MTL/exp/nnet3/multitask/configs/ --nnet-edits=rename-node old-name=output-0 new-name=output
### ====================================== ###
### COMBINE ALL TASKS EGS INTO ONE BIG DIR ###
### ====================================== ###
steps/nnet3/multilingual/combine_egs.sh --cmd utils/run.pl --lang2weight 1.0 1 MTL/exp/atai-100B-org/nnet3/egs MTL/exp/nnet3/multitask/egs
steps/nnet3/multilingual/combine_egs.sh: allocating multilingual examples for training.
steps/nnet3/multilingual/combine_egs.sh: combine combine.scp examples from all langs in MTL/exp/nnet3/multitask/egs/combine.scp.
steps/nnet3/multilingual/combine_egs.sh: combine train_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/train_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: combine valid_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/valid_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: Finished preparing multilingual training example.
### ================ ###
### BEGIN TRAIN NNET ###
### ================ ###
2018-08-15 15:52:26,148 [steps/nnet3/train_raw_dnn.py:34 - <module> - INFO ] Starting raw DNN trainer (train_raw_dnn.py)
2018-08-15 15:52:26,154 [steps/nnet3/train_raw_dnn.py:181 - train - INFO ] Arguments for the experiment
{'backstitch_training_interval': 1,
 'backstitch_training_scale': 0.0,
 'cleanup': True,
 'cmvn_opts': '--norm-means=false --norm-vars=false',
 'combine_sum_to_one_penalty': 0.0,
 'command': 'utils/run.pl',
 'compute_average_posteriors': False,
 'compute_per_dim_accuracy': False,
 'dir': 'MTL/exp/nnet3/multitask',
 'do_final_combination': True,
 'dropout_schedule': None,
 'egs_command': None,
 'egs_dir': 'MTL/exp/nnet3/multitask/egs',
 'egs_opts': None,
 'egs_stage': 0,
 'email': None,
 'exit_stage': None,
 'feat_dir': 'MTL/data/atai-100B-org/train',
 'final_combination': True,
 'final_effective_lrate': 0.00015,
 'frames_per_eg': 8,
 'image_augmentation_opts': None,
 'initial_effective_lrate': 0.0015,
 'max_lda_jobs': 10,
 'max_models_combine': 20,
 'max_objective_evaluations': 30,
 'max_param_change': 2.0,
 'minibatch_size': '256,128',
 'momentum': 0.0,
 'nj': 4,
 'num_epochs': 4.0,
 'num_jobs_compute_prior': 10,
 'num_jobs_final': 1,
 'num_jobs_initial': 1,
 'online_ivector_dir': None,
 'preserve_model_interval': 100,
 'presoftmax_prior_scale_power': -0.25,
 'prior_subset_size': 20000,
 'proportional_shrink': 0.0,
 'rand_prune': 4.0,
 'remove_egs': True,
 'reporting_interval': 0.1,
 'samples_per_iter': 10000,
 'shuffle_buffer_size': 5000,
 'srand': 0,
 'stage': -5,
 'targets_scp': 'MTL/exp/atai-100B-org/tri_ali',
 'transform_dir': None,
 'use_dense_targets': False,
 'use_gpu': True}
2018-08-15 15:52:26,161 [steps/nnet3/train_raw_dnn.py:294 - train - INFO ] Preparing the initial network.
2018-08-15 15:52:26,554 [steps/nnet3/train_raw_dnn.py:328 - train - INFO ] Training will run for 4.0 epochs = 32 iterations
2018-08-15 15:52:26,554 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 0)
2018-08-15 15:52:26,557 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 0, learning rate is 0.0015.
2018-08-15 15:52:56,114 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 1)
2018-08-15 15:52:56,129 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 1, learning rate is 0.0013958580613945483.
2018-08-15 15:53:21,832 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 2)
2018-08-15 15:53:21,844 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 2, learning rate is 0.001298946485040098.
2018-08-15 15:53:49,313 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 3)
2018-08-15 15:53:49,328 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 3, learning rate is 0.0012087632816422226.
2018-08-15 15:54:16,835 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 4)
2018-08-15 15:54:16,848 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 4, learning rate is 0.0011248413139986837.
2018-08-15 15:54:44,882 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 5)
2018-08-15 15:54:44,888 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 5, learning rate is 0.0010467458772897994.
2018-08-15 15:55:13,081 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 6)
2018-08-15 15:55:13,087 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 6, learning rate is 0.000974072447364317.
2018-08-15 15:55:40,797 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 7)
2018-08-15 15:55:40,803 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 7, learning rate is 0.0009064445853571992.
2018-08-15 15:56:09,134 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 8)
2018-08-15 15:56:09,147 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 8, learning rate is 0.0008435119877855236.
2018-08-15 15:56:36,911 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 9)
2018-08-15 15:56:36,924 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 9, learning rate is 0.0007849486720222419.
2018-08-15 15:57:04,822 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 10)
2018-08-15 15:57:04,828 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 10, learning rate is 0.0007304512877487946.
2018-08-15 15:57:33,481 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 11)
2018-08-15 15:57:33,500 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 11, learning rate is 0.0006797375456401227.
2018-08-15 15:58:01,711 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 12)
2018-08-15 15:58:01,724 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 12, learning rate is 0.0006325447551428733.
2018-08-15 15:58:29,310 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 13)
2018-08-15 15:58:29,324 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 13, learning rate is 0.0005886284637726803.
2018-08-15 15:58:58,420 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 14)
2018-08-15 15:58:58,434 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 14, learning rate is 0.0005477611908822565.
2018-08-15 15:59:26,518 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 15)
2018-08-15 15:59:26,533 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 15, learning rate is 0.0005097312493413838.
2018-08-15 15:59:54,423 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 16)
2018-08-15 15:59:54,436 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 16, learning rate is 0.00047434164902525685.
2018-08-15 16:00:22,283 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 17)
2018-08-15 16:00:22,296 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 17, learning rate is 0.0004414090764313922.
2018-08-15 16:00:51,289 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 18)
2018-08-15 16:00:51,308 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 18, learning rate is 0.0004107629451396541.
2018-08-15 16:01:19,359 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 19)
2018-08-15 16:01:19,373 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 19, learning rate is 0.0003822445121969019.
2018-08-15 16:01:47,845 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 20)
2018-08-15 16:01:47,868 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 20, learning rate is 0.0003557060558492482.
2018-08-15 16:02:19,806 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 21)
2018-08-15 16:02:19,816 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 21, learning rate is 0.0003310101103626884.
2018-08-15 16:02:46,569 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 22)
2018-08-15 16:02:46,575 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 22, learning rate is 0.0003080287539685719.
2018-08-15 16:03:14,463 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 23)
2018-08-15 16:03:14,481 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 23, learning rate is 0.00028664294624556604.
2018-08-15 16:03:42,036 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 24)
2018-08-15 16:03:42,049 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 24, learning rate is 0.0002667419115058384.
2018-08-15 16:04:10,421 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 25)
2018-08-15 16:04:10,428 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 25, learning rate is 0.0002482225649914772.
2018-08-15 16:04:38,187 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 26)
2018-08-15 16:04:38,193 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 26, learning rate is 0.00023098897890892373.
2018-08-15 16:05:05,831 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 27)
2018-08-15 16:05:05,844 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 27, learning rate is 0.0002149518855355444.
2018-08-15 16:05:34,460 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 28)
2018-08-15 16:05:34,472 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 28, learning rate is 0.00020002821482449862.
2018-08-15 16:06:02,452 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 29)
2018-08-15 16:06:02,464 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 29, learning rate is 0.0001861406641127579.
2018-08-15 16:06:30,740 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 30)
2018-08-15 16:06:30,756 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 30, learning rate is 0.00017321729770341867.
2018-08-15 16:06:57,766 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 31)
2018-08-15 16:06:57,771 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 31, learning rate is 0.00015.
2018-08-15 16:07:26,615 [steps/nnet3/train_raw_dnn.py:401 - train - INFO ] Doing final combination to produce final.raw
2018-08-15 16:07:26,615 [steps/libs/nnet3/train/frame_level_objf/common.py:468 - combine_models - INFO ] Combining {32, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31} models.
2018-08-15 16:07:33,931 [steps/nnet3/train_raw_dnn.py:423 - train - INFO ] Cleaning up the experiment directory MTL/exp/nnet3/multitask
MTL/exp/nnet3/multitask: num-iters=31 nj=1..1 num-params=6.1M
steps/nnet3/train_raw_dnn.py --stage=-5 --cmd=utils/run.pl --trainer.num-epochs 4 --trainer.optimization.num-jobs-initial=1 --trainer.optimization.num-jobs-final=1 --trainer.optimization.initial-effective-lrate=0.0015 --trainer.optimization.final-effective-lrate=0.00015 --trainer.optimization.minibatch-size=256,128 --trainer.samples-per-iter=10000 --trainer.max-param-change=2.0 --trainer.srand=0 --feat.cmvn-opts=--norm-means=false --norm-vars=false --feat-dir MTL/data/atai-100B-org/train --egs.dir MTL/exp/nnet3/multitask/egs --use-dense-targets false --targets-scp MTL/exp/atai-100B-org/tri_ali --cleanup.remove-egs true --use-gpu true --dir=MTL/exp/nnet3/multitask
['steps/nnet3/train_raw_dnn.py', '--stage=-5', '--cmd=utils/run.pl', '--trainer.num-epochs', '4', '--trainer.optimization.num-jobs-initial=1', '--trainer.optimization.num-jobs-final=1', '--trainer.optimization.initial-effective-lrate=0.0015', '--trainer.optimization.final-effective-lrate=0.00015', '--trainer.optimization.minibatch-size=256,128', '--trainer.samples-per-iter=10000', '--trainer.max-param-change=2.0', '--trainer.srand=0', '--feat.cmvn-opts=--norm-means=false --norm-vars=false', '--feat-dir', 'MTL/data/atai-100B-org/train', '--egs.dir', 'MTL/exp/nnet3/multitask/egs', '--use-dense-targets', 'false', '--targets-scp', 'MTL/exp/atai-100B-org/tri_ali', '--cleanup.remove-egs', 'true', '--use-gpu', 'true', '--dir=MTL/exp/nnet3/multitask']
use_multitask_egs=True
### ============== ###
### END TRAIN NNET ###
### ============== ###
### ========================== ###
### SPLIT & COPY NNET PER TASK ###
### ========================== ###
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100B-org/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100B-org/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100B-org/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100B-org.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100B-org MTL/exp/atai-100B-org/nnet3/egs
### ============== ###
### BEGIN DECODING ###
### ============== ###
./run_nnet3_multitask.sh: line 335: 4: command not found
### decoding with  jobs, unigram LM ###
steps/nnet3/decode.sh --nj 4 --cmd utils/run.pl --max-active 250 --min-active 100 exp_atai-100B-org/triphones/graph data_atai-100B-org/test MTL/exp/nnet3/multitask/decode MTL/exp/nnet3/multitask/atai-100B-org/final_adj.mdl SPOKEN_NOISE SIL
steps/nnet3/decode.sh: feature type is raw
Decoding done.

#### BEGIN CALCULATE WER ####
###==============###
### END DECODING ###
###==============###

###### BEGIN TASK INFO ######
task= atai-100C-org
num_targets= 712
data_dir= MTL/data/atai-100C-org/train
ali_dir= MTL/exp/atai-100C-org/tri_ali
egs_dir= MTL/exp/atai-100C-org/nnet3/egs
###### END TASK INFO ######

### ============================ ###
### CREATE CONFIG FILES FOR NNET ###
### ============================ ###
feat-to-dim scp:MTL/data/atai-100C-org/train/feats.scp - 
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
steps/nnet3/xconfig_to_configs.py --xconfig-file MTL/exp/nnet3/multitask/configs/network.xconfig --config-dir MTL/exp/nnet3/multitask/configs/ --nnet-edits=rename-node old-name=output-0 new-name=output
### ====================================== ###
### COMBINE ALL TASKS EGS INTO ONE BIG DIR ###
### ====================================== ###
steps/nnet3/multilingual/combine_egs.sh --cmd utils/run.pl --lang2weight 1.0 1 MTL/exp/atai-100C-org/nnet3/egs MTL/exp/nnet3/multitask/egs
steps/nnet3/multilingual/combine_egs.sh: allocating multilingual examples for training.
steps/nnet3/multilingual/combine_egs.sh: combine combine.scp examples from all langs in MTL/exp/nnet3/multitask/egs/combine.scp.
steps/nnet3/multilingual/combine_egs.sh: combine train_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/train_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: combine valid_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/valid_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: Finished preparing multilingual training example.
### ================ ###
### BEGIN TRAIN NNET ###
### ================ ###
2018-08-15 16:09:54,729 [steps/nnet3/train_raw_dnn.py:34 - <module> - INFO ] Starting raw DNN trainer (train_raw_dnn.py)
2018-08-15 16:09:54,734 [steps/nnet3/train_raw_dnn.py:181 - train - INFO ] Arguments for the experiment
{'backstitch_training_interval': 1,
 'backstitch_training_scale': 0.0,
 'cleanup': True,
 'cmvn_opts': '--norm-means=false --norm-vars=false',
 'combine_sum_to_one_penalty': 0.0,
 'command': 'utils/run.pl',
 'compute_average_posteriors': False,
 'compute_per_dim_accuracy': False,
 'dir': 'MTL/exp/nnet3/multitask',
 'do_final_combination': True,
 'dropout_schedule': None,
 'egs_command': None,
 'egs_dir': 'MTL/exp/nnet3/multitask/egs',
 'egs_opts': None,
 'egs_stage': 0,
 'email': None,
 'exit_stage': None,
 'feat_dir': 'MTL/data/atai-100C-org/train',
 'final_combination': True,
 'final_effective_lrate': 0.00015,
 'frames_per_eg': 8,
 'image_augmentation_opts': None,
 'initial_effective_lrate': 0.0015,
 'max_lda_jobs': 10,
 'max_models_combine': 20,
 'max_objective_evaluations': 30,
 'max_param_change': 2.0,
 'minibatch_size': '256,128',
 'momentum': 0.0,
 'nj': 4,
 'num_epochs': 4.0,
 'num_jobs_compute_prior': 10,
 'num_jobs_final': 1,
 'num_jobs_initial': 1,
 'online_ivector_dir': None,
 'preserve_model_interval': 100,
 'presoftmax_prior_scale_power': -0.25,
 'prior_subset_size': 20000,
 'proportional_shrink': 0.0,
 'rand_prune': 4.0,
 'remove_egs': True,
 'reporting_interval': 0.1,
 'samples_per_iter': 10000,
 'shuffle_buffer_size': 5000,
 'srand': 0,
 'stage': -5,
 'targets_scp': 'MTL/exp/atai-100C-org/tri_ali',
 'transform_dir': None,
 'use_dense_targets': False,
 'use_gpu': True}
2018-08-15 16:09:54,742 [steps/nnet3/train_raw_dnn.py:294 - train - INFO ] Preparing the initial network.
2018-08-15 16:09:55,134 [steps/nnet3/train_raw_dnn.py:328 - train - INFO ] Training will run for 4.0 epochs = 32 iterations
2018-08-15 16:09:55,135 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 0)
2018-08-15 16:09:55,137 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 0, learning rate is 0.0015.
2018-08-15 16:10:25,079 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 1)
2018-08-15 16:10:25,093 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 1, learning rate is 0.0013958580613945483.
2018-08-15 16:10:54,724 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 2)
2018-08-15 16:10:54,744 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 2, learning rate is 0.001298946485040098.
2018-08-15 16:11:28,605 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 3)
2018-08-15 16:11:28,620 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 3, learning rate is 0.0012087632816422226.
2018-08-15 16:12:02,069 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 4)
2018-08-15 16:12:02,088 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 4, learning rate is 0.0011248413139986837.
2018-08-15 16:12:36,298 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 5)
2018-08-15 16:12:36,312 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 5, learning rate is 0.0010467458772897994.
2018-08-15 16:13:08,866 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 6)
2018-08-15 16:13:08,880 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 6, learning rate is 0.000974072447364317.
2018-08-15 16:13:43,912 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 7)
2018-08-15 16:13:43,932 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 7, learning rate is 0.0009064445853571992.
2018-08-15 16:14:16,330 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 8)
2018-08-15 16:14:16,344 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 8, learning rate is 0.0008435119877855236.
2018-08-15 16:14:51,481 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 9)
2018-08-15 16:14:51,500 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 9, learning rate is 0.0007849486720222419.
2018-08-15 16:15:24,546 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 10)
2018-08-15 16:15:24,560 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 10, learning rate is 0.0007304512877487946.
2018-08-15 16:15:58,546 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 11)
2018-08-15 16:15:58,568 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 11, learning rate is 0.0006797375456401227.
2018-08-15 16:16:32,358 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 12)
2018-08-15 16:16:32,380 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 12, learning rate is 0.0006325447551428733.
2018-08-15 16:17:05,124 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 13)
2018-08-15 16:17:05,141 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 13, learning rate is 0.0005886284637726803.
2018-08-15 16:17:39,053 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 14)
2018-08-15 16:17:39,068 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 14, learning rate is 0.0005477611908822565.
2018-08-15 16:18:14,288 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 15)
2018-08-15 16:18:14,312 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 15, learning rate is 0.0005097312493413838.
2018-08-15 16:18:48,175 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 16)
2018-08-15 16:18:48,189 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 16, learning rate is 0.00047434164902525685.
2018-08-15 16:19:21,928 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 17)
2018-08-15 16:19:21,940 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 17, learning rate is 0.0004414090764313922.
2018-08-15 16:19:56,238 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 18)
2018-08-15 16:19:56,252 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 18, learning rate is 0.0004107629451396541.
2018-08-15 16:20:28,703 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 19)
2018-08-15 16:20:28,724 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 19, learning rate is 0.0003822445121969019.
2018-08-15 16:21:03,907 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 20)
2018-08-15 16:21:03,920 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 20, learning rate is 0.0003557060558492482.
2018-08-15 16:21:40,975 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 21)
2018-08-15 16:21:40,988 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 21, learning rate is 0.0003310101103626884.
2018-08-15 16:22:12,024 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 22)
2018-08-15 16:22:12,040 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 22, learning rate is 0.0003080287539685719.
2018-08-15 16:22:46,075 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 23)
2018-08-15 16:22:46,088 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 23, learning rate is 0.00028664294624556604.
2018-08-15 16:23:19,543 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 24)
2018-08-15 16:23:19,568 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 24, learning rate is 0.0002667419115058384.
2018-08-15 16:23:53,885 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 25)
2018-08-15 16:23:53,900 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 25, learning rate is 0.0002482225649914772.
2018-08-15 16:24:26,881 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 26)
2018-08-15 16:24:26,904 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 26, learning rate is 0.00023098897890892373.
2018-08-15 16:24:59,393 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 27)
2018-08-15 16:24:59,428 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 27, learning rate is 0.0002149518855355444.
2018-08-15 16:25:35,414 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 28)
2018-08-15 16:25:35,460 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 28, learning rate is 0.00020002821482449862.
2018-08-15 16:26:08,860 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 29)
2018-08-15 16:26:08,880 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 29, learning rate is 0.0001861406641127579.
2018-08-15 16:26:42,798 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 30)
2018-08-15 16:26:42,812 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 30, learning rate is 0.00017321729770341867.
2018-08-15 16:27:17,811 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 31)
2018-08-15 16:27:17,825 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 31, learning rate is 0.00015.
2018-08-15 16:27:50,838 [steps/nnet3/train_raw_dnn.py:401 - train - INFO ] Doing final combination to produce final.raw
2018-08-15 16:27:50,838 [steps/libs/nnet3/train/frame_level_objf/common.py:468 - combine_models - INFO ] Combining {32, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31} models.
2018-08-15 16:28:04,376 [steps/nnet3/train_raw_dnn.py:423 - train - INFO ] Cleaning up the experiment directory MTL/exp/nnet3/multitask
MTL/exp/nnet3/multitask: num-iters=31 nj=1..1 num-params=6.2M
steps/nnet3/train_raw_dnn.py --stage=-5 --cmd=utils/run.pl --trainer.num-epochs 4 --trainer.optimization.num-jobs-initial=1 --trainer.optimization.num-jobs-final=1 --trainer.optimization.initial-effective-lrate=0.0015 --trainer.optimization.final-effective-lrate=0.00015 --trainer.optimization.minibatch-size=256,128 --trainer.samples-per-iter=10000 --trainer.max-param-change=2.0 --trainer.srand=0 --feat.cmvn-opts=--norm-means=false --norm-vars=false --feat-dir MTL/data/atai-100C-org/train --egs.dir MTL/exp/nnet3/multitask/egs --use-dense-targets false --targets-scp MTL/exp/atai-100C-org/tri_ali --cleanup.remove-egs true --use-gpu true --dir=MTL/exp/nnet3/multitask
['steps/nnet3/train_raw_dnn.py', '--stage=-5', '--cmd=utils/run.pl', '--trainer.num-epochs', '4', '--trainer.optimization.num-jobs-initial=1', '--trainer.optimization.num-jobs-final=1', '--trainer.optimization.initial-effective-lrate=0.0015', '--trainer.optimization.final-effective-lrate=0.00015', '--trainer.optimization.minibatch-size=256,128', '--trainer.samples-per-iter=10000', '--trainer.max-param-change=2.0', '--trainer.srand=0', '--feat.cmvn-opts=--norm-means=false --norm-vars=false', '--feat-dir', 'MTL/data/atai-100C-org/train', '--egs.dir', 'MTL/exp/nnet3/multitask/egs', '--use-dense-targets', 'false', '--targets-scp', 'MTL/exp/atai-100C-org/tri_ali', '--cleanup.remove-egs', 'true', '--use-gpu', 'true', '--dir=MTL/exp/nnet3/multitask']
use_multitask_egs=True
### ============== ###
### END TRAIN NNET ###
### ============== ###
### ========================== ###
### SPLIT & COPY NNET PER TASK ###
### ========================== ###
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100C-org/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100C-org/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100C-org/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100C-org.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100C-org MTL/exp/atai-100C-org/nnet3/egs
### ============== ###
### BEGIN DECODING ###
### ============== ###
./run_nnet3_multitask.sh: line 335: 4: command not found
### decoding with  jobs, unigram LM ###
steps/nnet3/decode.sh --nj 4 --cmd utils/run.pl --max-active 250 --min-active 100 exp_atai-100C-org/triphones/graph data_atai-100C-org/test MTL/exp/nnet3/multitask/decode MTL/exp/nnet3/multitask/atai-100C-org/final_adj.mdl SPOKEN_NOISE SIL
steps/nnet3/decode.sh: feature type is raw
Decoding done.

#### BEGIN CALCULATE WER ####
###==============###
### END DECODING ###
###==============###

###### BEGIN TASK INFO ######
task= atai-100D-org
num_targets= 704
data_dir= MTL/data/atai-100D-org/train
ali_dir= MTL/exp/atai-100D-org/tri_ali
egs_dir= MTL/exp/atai-100D-org/nnet3/egs
###### END TASK INFO ######

### ============================ ###
### CREATE CONFIG FILES FOR NNET ###
### ============================ ###
feat-to-dim scp:MTL/data/atai-100D-org/train/feats.scp - 
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
steps/nnet3/xconfig_to_configs.py --xconfig-file MTL/exp/nnet3/multitask/configs/network.xconfig --config-dir MTL/exp/nnet3/multitask/configs/ --nnet-edits=rename-node old-name=output-0 new-name=output
### ====================================== ###
### COMBINE ALL TASKS EGS INTO ONE BIG DIR ###
### ====================================== ###
steps/nnet3/multilingual/combine_egs.sh --cmd utils/run.pl --lang2weight 1.0 1 MTL/exp/atai-100D-org/nnet3/egs MTL/exp/nnet3/multitask/egs
steps/nnet3/multilingual/combine_egs.sh: allocating multilingual examples for training.
steps/nnet3/multilingual/combine_egs.sh: combine combine.scp examples from all langs in MTL/exp/nnet3/multitask/egs/combine.scp.
steps/nnet3/multilingual/combine_egs.sh: combine train_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/train_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: combine valid_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/valid_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: Finished preparing multilingual training example.
### ================ ###
### BEGIN TRAIN NNET ###
### ================ ###
2018-08-15 16:30:25,451 [steps/nnet3/train_raw_dnn.py:34 - <module> - INFO ] Starting raw DNN trainer (train_raw_dnn.py)
2018-08-15 16:30:25,457 [steps/nnet3/train_raw_dnn.py:181 - train - INFO ] Arguments for the experiment
{'backstitch_training_interval': 1,
 'backstitch_training_scale': 0.0,
 'cleanup': True,
 'cmvn_opts': '--norm-means=false --norm-vars=false',
 'combine_sum_to_one_penalty': 0.0,
 'command': 'utils/run.pl',
 'compute_average_posteriors': False,
 'compute_per_dim_accuracy': False,
 'dir': 'MTL/exp/nnet3/multitask',
 'do_final_combination': True,
 'dropout_schedule': None,
 'egs_command': None,
 'egs_dir': 'MTL/exp/nnet3/multitask/egs',
 'egs_opts': None,
 'egs_stage': 0,
 'email': None,
 'exit_stage': None,
 'feat_dir': 'MTL/data/atai-100D-org/train',
 'final_combination': True,
 'final_effective_lrate': 0.00015,
 'frames_per_eg': 8,
 'image_augmentation_opts': None,
 'initial_effective_lrate': 0.0015,
 'max_lda_jobs': 10,
 'max_models_combine': 20,
 'max_objective_evaluations': 30,
 'max_param_change': 2.0,
 'minibatch_size': '256,128',
 'momentum': 0.0,
 'nj': 4,
 'num_epochs': 4.0,
 'num_jobs_compute_prior': 10,
 'num_jobs_final': 1,
 'num_jobs_initial': 1,
 'online_ivector_dir': None,
 'preserve_model_interval': 100,
 'presoftmax_prior_scale_power': -0.25,
 'prior_subset_size': 20000,
 'proportional_shrink': 0.0,
 'rand_prune': 4.0,
 'remove_egs': True,
 'reporting_interval': 0.1,
 'samples_per_iter': 10000,
 'shuffle_buffer_size': 5000,
 'srand': 0,
 'stage': -5,
 'targets_scp': 'MTL/exp/atai-100D-org/tri_ali',
 'transform_dir': None,
 'use_dense_targets': False,
 'use_gpu': True}
2018-08-15 16:30:25,465 [steps/nnet3/train_raw_dnn.py:294 - train - INFO ] Preparing the initial network.
2018-08-15 16:30:25,861 [steps/nnet3/train_raw_dnn.py:328 - train - INFO ] Training will run for 4.0 epochs = 32 iterations
2018-08-15 16:30:25,861 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 0)
2018-08-15 16:30:25,866 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 0, learning rate is 0.0015.
2018-08-15 16:30:56,336 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 1)
2018-08-15 16:30:56,360 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 1, learning rate is 0.0013958580613945483.
2018-08-15 16:31:22,965 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 2)
2018-08-15 16:31:22,988 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 2, learning rate is 0.001298946485040098.
2018-08-15 16:31:56,098 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 3)
2018-08-15 16:31:56,172 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 3, learning rate is 0.0012087632816422226.
2018-08-15 16:32:31,094 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 4)
2018-08-15 16:32:31,107 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 4, learning rate is 0.0011248413139986837.
2018-08-15 16:33:03,809 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 5)
2018-08-15 16:33:03,828 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 5, learning rate is 0.0010467458772897994.
2018-08-15 16:33:37,889 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 6)
2018-08-15 16:33:37,904 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 6, learning rate is 0.000974072447364317.
2018-08-15 16:34:12,262 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 7)
2018-08-15 16:34:12,284 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 7, learning rate is 0.0009064445853571992.
2018-08-15 16:34:45,219 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 8)
2018-08-15 16:34:45,240 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 8, learning rate is 0.0008435119877855236.
2018-08-15 16:35:19,236 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 9)
2018-08-15 16:35:19,252 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 9, learning rate is 0.0007849486720222419.
2018-08-15 16:35:51,839 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 10)
2018-08-15 16:35:51,852 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 10, learning rate is 0.0007304512877487946.
2018-08-15 16:36:25,270 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 11)
2018-08-15 16:36:25,284 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 11, learning rate is 0.0006797375456401227.
2018-08-15 16:36:58,273 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 12)
2018-08-15 16:36:58,307 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 12, learning rate is 0.0006325447551428733.
2018-08-15 16:37:32,667 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 13)
2018-08-15 16:37:32,688 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 13, learning rate is 0.0005886284637726803.
2018-08-15 16:38:06,758 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 14)
2018-08-15 16:38:06,780 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 14, learning rate is 0.0005477611908822565.
2018-08-15 16:38:39,575 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 15)
2018-08-15 16:38:39,608 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 15, learning rate is 0.0005097312493413838.
2018-08-15 16:39:13,299 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 16)
2018-08-15 16:39:13,320 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 16, learning rate is 0.00047434164902525685.
2018-08-15 16:39:47,018 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 17)
2018-08-15 16:39:47,040 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 17, learning rate is 0.0004414090764313922.
2018-08-15 16:40:21,073 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 18)
2018-08-15 16:40:21,100 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 18, learning rate is 0.0004107629451396541.
2018-08-15 16:40:54,010 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 19)
2018-08-15 16:40:54,024 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 19, learning rate is 0.0003822445121969019.
2018-08-15 16:41:27,768 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 20)
2018-08-15 16:41:27,788 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 20, learning rate is 0.0003557060558492482.
2018-08-15 16:42:06,920 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 21)
2018-08-15 16:42:06,932 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 21, learning rate is 0.0003310101103626884.
2018-08-15 16:42:37,562 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 22)
2018-08-15 16:42:37,580 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 22, learning rate is 0.0003080287539685719.
2018-08-15 16:43:11,857 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 23)
2018-08-15 16:43:11,876 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 23, learning rate is 0.00028664294624556604.
2018-08-15 16:43:44,870 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 24)
2018-08-15 16:43:44,884 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 24, learning rate is 0.0002667419115058384.
2018-08-15 16:44:18,980 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 25)
2018-08-15 16:44:18,992 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 25, learning rate is 0.0002482225649914772.
2018-08-15 16:44:52,143 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 26)
2018-08-15 16:44:52,160 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 26, learning rate is 0.00023098897890892373.
2018-08-15 16:45:25,283 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 27)
2018-08-15 16:45:25,296 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 27, learning rate is 0.0002149518855355444.
2018-08-15 16:45:58,627 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 28)
2018-08-15 16:45:58,668 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 28, learning rate is 0.00020002821482449862.
2018-08-15 16:46:33,275 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 29)
2018-08-15 16:46:33,288 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 29, learning rate is 0.0001861406641127579.
2018-08-15 16:47:06,631 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 30)
2018-08-15 16:47:06,644 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 30, learning rate is 0.00017321729770341867.
2018-08-15 16:47:41,062 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 31)
2018-08-15 16:47:41,076 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 31, learning rate is 0.00015.
2018-08-15 16:48:13,715 [steps/nnet3/train_raw_dnn.py:401 - train - INFO ] Doing final combination to produce final.raw
2018-08-15 16:48:13,715 [steps/libs/nnet3/train/frame_level_objf/common.py:468 - combine_models - INFO ] Combining {32, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31} models.
2018-08-15 16:48:28,772 [steps/nnet3/train_raw_dnn.py:423 - train - INFO ] Cleaning up the experiment directory MTL/exp/nnet3/multitask
MTL/exp/nnet3/multitask: num-iters=31 nj=1..1 num-params=6.2M
steps/nnet3/train_raw_dnn.py --stage=-5 --cmd=utils/run.pl --trainer.num-epochs 4 --trainer.optimization.num-jobs-initial=1 --trainer.optimization.num-jobs-final=1 --trainer.optimization.initial-effective-lrate=0.0015 --trainer.optimization.final-effective-lrate=0.00015 --trainer.optimization.minibatch-size=256,128 --trainer.samples-per-iter=10000 --trainer.max-param-change=2.0 --trainer.srand=0 --feat.cmvn-opts=--norm-means=false --norm-vars=false --feat-dir MTL/data/atai-100D-org/train --egs.dir MTL/exp/nnet3/multitask/egs --use-dense-targets false --targets-scp MTL/exp/atai-100D-org/tri_ali --cleanup.remove-egs true --use-gpu true --dir=MTL/exp/nnet3/multitask
['steps/nnet3/train_raw_dnn.py', '--stage=-5', '--cmd=utils/run.pl', '--trainer.num-epochs', '4', '--trainer.optimization.num-jobs-initial=1', '--trainer.optimization.num-jobs-final=1', '--trainer.optimization.initial-effective-lrate=0.0015', '--trainer.optimization.final-effective-lrate=0.00015', '--trainer.optimization.minibatch-size=256,128', '--trainer.samples-per-iter=10000', '--trainer.max-param-change=2.0', '--trainer.srand=0', '--feat.cmvn-opts=--norm-means=false --norm-vars=false', '--feat-dir', 'MTL/data/atai-100D-org/train', '--egs.dir', 'MTL/exp/nnet3/multitask/egs', '--use-dense-targets', 'false', '--targets-scp', 'MTL/exp/atai-100D-org/tri_ali', '--cleanup.remove-egs', 'true', '--use-gpu', 'true', '--dir=MTL/exp/nnet3/multitask']
use_multitask_egs=True
### ============== ###
### END TRAIN NNET ###
### ============== ###
### ========================== ###
### SPLIT & COPY NNET PER TASK ###
### ========================== ###
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100D-org/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100D-org/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100D-org/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100D-org.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100D-org MTL/exp/atai-100D-org/nnet3/egs
### ============== ###
### BEGIN DECODING ###
### ============== ###
./run_nnet3_multitask.sh: line 335: 4: command not found
### decoding with  jobs, unigram LM ###
steps/nnet3/decode.sh --nj 4 --cmd utils/run.pl --max-active 250 --min-active 100 exp_atai-100D-org/triphones/graph data_atai-100D-org/test MTL/exp/nnet3/multitask/decode MTL/exp/nnet3/multitask/atai-100D-org/final_adj.mdl SPOKEN_NOISE SIL
steps/nnet3/decode.sh: feature type is raw
Decoding done.

#### BEGIN CALCULATE WER ####
###==============###
### END DECODING ###
###==============###

###### BEGIN TASK INFO ######
task= atai-100E-org
num_targets= 696
data_dir= MTL/data/atai-100E-org/train
ali_dir= MTL/exp/atai-100E-org/tri_ali
egs_dir= MTL/exp/atai-100E-org/nnet3/egs
###### END TASK INFO ######

### ============================ ###
### CREATE CONFIG FILES FOR NNET ###
### ============================ ###
feat-to-dim scp:MTL/data/atai-100E-org/train/feats.scp - 
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
steps/nnet3/xconfig_to_configs.py --xconfig-file MTL/exp/nnet3/multitask/configs/network.xconfig --config-dir MTL/exp/nnet3/multitask/configs/ --nnet-edits=rename-node old-name=output-0 new-name=output
### ====================================== ###
### COMBINE ALL TASKS EGS INTO ONE BIG DIR ###
### ====================================== ###
steps/nnet3/multilingual/combine_egs.sh --cmd utils/run.pl --lang2weight 1.0 1 MTL/exp/atai-100E-org/nnet3/egs MTL/exp/nnet3/multitask/egs
steps/nnet3/multilingual/combine_egs.sh: allocating multilingual examples for training.
steps/nnet3/multilingual/combine_egs.sh: combine combine.scp examples from all langs in MTL/exp/nnet3/multitask/egs/combine.scp.
steps/nnet3/multilingual/combine_egs.sh: combine train_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/train_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: combine valid_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/valid_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: Finished preparing multilingual training example.
### ================ ###
### BEGIN TRAIN NNET ###
### ================ ###
2018-08-15 16:51:03,143 [steps/nnet3/train_raw_dnn.py:34 - <module> - INFO ] Starting raw DNN trainer (train_raw_dnn.py)
2018-08-15 16:51:03,149 [steps/nnet3/train_raw_dnn.py:181 - train - INFO ] Arguments for the experiment
{'backstitch_training_interval': 1,
 'backstitch_training_scale': 0.0,
 'cleanup': True,
 'cmvn_opts': '--norm-means=false --norm-vars=false',
 'combine_sum_to_one_penalty': 0.0,
 'command': 'utils/run.pl',
 'compute_average_posteriors': False,
 'compute_per_dim_accuracy': False,
 'dir': 'MTL/exp/nnet3/multitask',
 'do_final_combination': True,
 'dropout_schedule': None,
 'egs_command': None,
 'egs_dir': 'MTL/exp/nnet3/multitask/egs',
 'egs_opts': None,
 'egs_stage': 0,
 'email': None,
 'exit_stage': None,
 'feat_dir': 'MTL/data/atai-100E-org/train',
 'final_combination': True,
 'final_effective_lrate': 0.00015,
 'frames_per_eg': 8,
 'image_augmentation_opts': None,
 'initial_effective_lrate': 0.0015,
 'max_lda_jobs': 10,
 'max_models_combine': 20,
 'max_objective_evaluations': 30,
 'max_param_change': 2.0,
 'minibatch_size': '256,128',
 'momentum': 0.0,
 'nj': 4,
 'num_epochs': 4.0,
 'num_jobs_compute_prior': 10,
 'num_jobs_final': 1,
 'num_jobs_initial': 1,
 'online_ivector_dir': None,
 'preserve_model_interval': 100,
 'presoftmax_prior_scale_power': -0.25,
 'prior_subset_size': 20000,
 'proportional_shrink': 0.0,
 'rand_prune': 4.0,
 'remove_egs': True,
 'reporting_interval': 0.1,
 'samples_per_iter': 10000,
 'shuffle_buffer_size': 5000,
 'srand': 0,
 'stage': -5,
 'targets_scp': 'MTL/exp/atai-100E-org/tri_ali',
 'transform_dir': None,
 'use_dense_targets': False,
 'use_gpu': True}
2018-08-15 16:51:03,157 [steps/nnet3/train_raw_dnn.py:294 - train - INFO ] Preparing the initial network.
2018-08-15 16:51:03,550 [steps/nnet3/train_raw_dnn.py:328 - train - INFO ] Training will run for 4.0 epochs = 32 iterations
2018-08-15 16:51:03,550 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 0)
2018-08-15 16:51:03,553 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 0, learning rate is 0.0015.
2018-08-15 16:51:33,326 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 1)
2018-08-15 16:51:33,335 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 1, learning rate is 0.0013958580613945483.
2018-08-15 16:51:57,126 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 2)
2018-08-15 16:51:57,131 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 2, learning rate is 0.001298946485040098.
2018-08-15 16:52:20,952 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 3)
2018-08-15 16:52:20,964 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 3, learning rate is 0.0012087632816422226.
2018-08-15 16:52:44,691 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 4)
2018-08-15 16:52:44,695 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 4, learning rate is 0.0011248413139986837.
2018-08-15 16:53:08,250 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 5)
2018-08-15 16:53:08,254 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 5, learning rate is 0.0010467458772897994.
2018-08-15 16:53:32,053 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 6)
2018-08-15 16:53:32,059 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 6, learning rate is 0.000974072447364317.
2018-08-15 16:53:55,936 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 7)
2018-08-15 16:53:55,941 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 7, learning rate is 0.0009064445853571992.
2018-08-15 16:54:19,859 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 8)
2018-08-15 16:54:19,863 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 8, learning rate is 0.0008435119877855236.
2018-08-15 16:54:43,620 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 9)
2018-08-15 16:54:43,624 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 9, learning rate is 0.0007849486720222419.
2018-08-15 16:55:07,517 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 10)
2018-08-15 16:55:07,521 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 10, learning rate is 0.0007304512877487946.
2018-08-15 16:55:31,065 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 11)
2018-08-15 16:55:31,069 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 11, learning rate is 0.0006797375456401227.
2018-08-15 16:55:54,872 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 12)
2018-08-15 16:55:54,876 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 12, learning rate is 0.0006325447551428733.
2018-08-15 16:56:18,641 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 13)
2018-08-15 16:56:18,645 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 13, learning rate is 0.0005886284637726803.
2018-08-15 16:56:42,516 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 14)
2018-08-15 16:56:42,520 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 14, learning rate is 0.0005477611908822565.
2018-08-15 16:57:06,306 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 15)
2018-08-15 16:57:06,313 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 15, learning rate is 0.0005097312493413838.
2018-08-15 16:57:29,954 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 16)
2018-08-15 16:57:29,965 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 16, learning rate is 0.00047434164902525685.
2018-08-15 16:57:53,611 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 17)
2018-08-15 16:57:53,615 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 17, learning rate is 0.0004414090764313922.
2018-08-15 16:58:17,366 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 18)
2018-08-15 16:58:17,370 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 18, learning rate is 0.0004107629451396541.
2018-08-15 16:58:41,094 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 19)
2018-08-15 16:58:41,098 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 19, learning rate is 0.0003822445121969019.
2018-08-15 16:59:04,757 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 20)
2018-08-15 16:59:04,761 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 20, learning rate is 0.0003557060558492482.
2018-08-15 16:59:33,112 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 21)
2018-08-15 16:59:33,116 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 21, learning rate is 0.0003310101103626884.
2018-08-15 16:59:56,671 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 22)
2018-08-15 16:59:56,676 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 22, learning rate is 0.0003080287539685719.
2018-08-15 17:00:20,392 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 23)
2018-08-15 17:00:20,398 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 23, learning rate is 0.00028664294624556604.
2018-08-15 17:00:44,436 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 24)
2018-08-15 17:00:44,440 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 24, learning rate is 0.0002667419115058384.
2018-08-15 17:01:08,123 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 25)
2018-08-15 17:01:08,127 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 25, learning rate is 0.0002482225649914772.
2018-08-15 17:01:31,714 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 26)
2018-08-15 17:01:31,736 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 26, learning rate is 0.00023098897890892373.
2018-08-15 17:01:55,837 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 27)
2018-08-15 17:01:55,860 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 27, learning rate is 0.0002149518855355444.
2018-08-15 17:02:19,766 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 28)
2018-08-15 17:02:19,770 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 28, learning rate is 0.00020002821482449862.
2018-08-15 17:02:43,562 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 29)
2018-08-15 17:02:43,567 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 29, learning rate is 0.0001861406641127579.
2018-08-15 17:03:06,953 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 30)
2018-08-15 17:03:06,976 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 30, learning rate is 0.00017321729770341867.
2018-08-15 17:03:31,813 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 31)
2018-08-15 17:03:31,817 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 31, learning rate is 0.00015.
2018-08-15 17:03:55,779 [steps/nnet3/train_raw_dnn.py:401 - train - INFO ] Doing final combination to produce final.raw
2018-08-15 17:03:55,779 [steps/libs/nnet3/train/frame_level_objf/common.py:468 - combine_models - INFO ] Combining {32, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31} models.
2018-08-15 17:04:06,389 [steps/nnet3/train_raw_dnn.py:423 - train - INFO ] Cleaning up the experiment directory MTL/exp/nnet3/multitask
MTL/exp/nnet3/multitask: num-iters=32 nj=1..1 num-params=6.2M
steps/nnet3/train_raw_dnn.py --stage=-5 --cmd=utils/run.pl --trainer.num-epochs 4 --trainer.optimization.num-jobs-initial=1 --trainer.optimization.num-jobs-final=1 --trainer.optimization.initial-effective-lrate=0.0015 --trainer.optimization.final-effective-lrate=0.00015 --trainer.optimization.minibatch-size=256,128 --trainer.samples-per-iter=10000 --trainer.max-param-change=2.0 --trainer.srand=0 --feat.cmvn-opts=--norm-means=false --norm-vars=false --feat-dir MTL/data/atai-100E-org/train --egs.dir MTL/exp/nnet3/multitask/egs --use-dense-targets false --targets-scp MTL/exp/atai-100E-org/tri_ali --cleanup.remove-egs true --use-gpu true --dir=MTL/exp/nnet3/multitask
['steps/nnet3/train_raw_dnn.py', '--stage=-5', '--cmd=utils/run.pl', '--trainer.num-epochs', '4', '--trainer.optimization.num-jobs-initial=1', '--trainer.optimization.num-jobs-final=1', '--trainer.optimization.initial-effective-lrate=0.0015', '--trainer.optimization.final-effective-lrate=0.00015', '--trainer.optimization.minibatch-size=256,128', '--trainer.samples-per-iter=10000', '--trainer.max-param-change=2.0', '--trainer.srand=0', '--feat.cmvn-opts=--norm-means=false --norm-vars=false', '--feat-dir', 'MTL/data/atai-100E-org/train', '--egs.dir', 'MTL/exp/nnet3/multitask/egs', '--use-dense-targets', 'false', '--targets-scp', 'MTL/exp/atai-100E-org/tri_ali', '--cleanup.remove-egs', 'true', '--use-gpu', 'true', '--dir=MTL/exp/nnet3/multitask']
use_multitask_egs=True
### ============== ###
### END TRAIN NNET ###
### ============== ###
### ========================== ###
### SPLIT & COPY NNET PER TASK ###
### ========================== ###
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100E-org/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100E-org/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100E-org/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100E-org.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100E-org MTL/exp/atai-100E-org/nnet3/egs
### ============== ###
### BEGIN DECODING ###
### ============== ###
./run_nnet3_multitask.sh: line 335: 4: command not found
### decoding with  jobs, unigram LM ###
steps/nnet3/decode.sh --nj 4 --cmd utils/run.pl --max-active 250 --min-active 100 exp_atai-100E-org/triphones/graph data_atai-100E-org/test MTL/exp/nnet3/multitask/decode MTL/exp/nnet3/multitask/atai-100E-org/final_adj.mdl SPOKEN_NOISE SIL
steps/nnet3/decode.sh: feature type is raw
Decoding done.

#### BEGIN CALCULATE WER ####
###==============###
### END DECODING ###
###==============###

###### BEGIN TASK INFO ######
task= atai-100F-org
num_targets= 744
data_dir= MTL/data/atai-100F-org/train
ali_dir= MTL/exp/atai-100F-org/tri_ali
egs_dir= MTL/exp/atai-100F-org/nnet3/egs
###### END TASK INFO ######

### ============================ ###
### CREATE CONFIG FILES FOR NNET ###
### ============================ ###
feat-to-dim scp:MTL/data/atai-100F-org/train/feats.scp - 
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
steps/nnet3/xconfig_to_configs.py --xconfig-file MTL/exp/nnet3/multitask/configs/network.xconfig --config-dir MTL/exp/nnet3/multitask/configs/ --nnet-edits=rename-node old-name=output-0 new-name=output
### ====================================== ###
### COMBINE ALL TASKS EGS INTO ONE BIG DIR ###
### ====================================== ###
steps/nnet3/multilingual/combine_egs.sh --cmd utils/run.pl --lang2weight 1.0 1 MTL/exp/atai-100F-org/nnet3/egs MTL/exp/nnet3/multitask/egs
steps/nnet3/multilingual/combine_egs.sh: allocating multilingual examples for training.
steps/nnet3/multilingual/combine_egs.sh: combine combine.scp examples from all langs in MTL/exp/nnet3/multitask/egs/combine.scp.
steps/nnet3/multilingual/combine_egs.sh: combine train_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/train_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: combine valid_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/valid_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: Finished preparing multilingual training example.
### ================ ###
### BEGIN TRAIN NNET ###
### ================ ###
2018-08-15 17:06:09,773 [steps/nnet3/train_raw_dnn.py:34 - <module> - INFO ] Starting raw DNN trainer (train_raw_dnn.py)
2018-08-15 17:06:09,779 [steps/nnet3/train_raw_dnn.py:181 - train - INFO ] Arguments for the experiment
{'backstitch_training_interval': 1,
 'backstitch_training_scale': 0.0,
 'cleanup': True,
 'cmvn_opts': '--norm-means=false --norm-vars=false',
 'combine_sum_to_one_penalty': 0.0,
 'command': 'utils/run.pl',
 'compute_average_posteriors': False,
 'compute_per_dim_accuracy': False,
 'dir': 'MTL/exp/nnet3/multitask',
 'do_final_combination': True,
 'dropout_schedule': None,
 'egs_command': None,
 'egs_dir': 'MTL/exp/nnet3/multitask/egs',
 'egs_opts': None,
 'egs_stage': 0,
 'email': None,
 'exit_stage': None,
 'feat_dir': 'MTL/data/atai-100F-org/train',
 'final_combination': True,
 'final_effective_lrate': 0.00015,
 'frames_per_eg': 8,
 'image_augmentation_opts': None,
 'initial_effective_lrate': 0.0015,
 'max_lda_jobs': 10,
 'max_models_combine': 20,
 'max_objective_evaluations': 30,
 'max_param_change': 2.0,
 'minibatch_size': '256,128',
 'momentum': 0.0,
 'nj': 4,
 'num_epochs': 4.0,
 'num_jobs_compute_prior': 10,
 'num_jobs_final': 1,
 'num_jobs_initial': 1,
 'online_ivector_dir': None,
 'preserve_model_interval': 100,
 'presoftmax_prior_scale_power': -0.25,
 'prior_subset_size': 20000,
 'proportional_shrink': 0.0,
 'rand_prune': 4.0,
 'remove_egs': True,
 'reporting_interval': 0.1,
 'samples_per_iter': 10000,
 'shuffle_buffer_size': 5000,
 'srand': 0,
 'stage': -5,
 'targets_scp': 'MTL/exp/atai-100F-org/tri_ali',
 'transform_dir': None,
 'use_dense_targets': False,
 'use_gpu': True}
2018-08-15 17:06:09,787 [steps/nnet3/train_raw_dnn.py:294 - train - INFO ] Preparing the initial network.
2018-08-15 17:06:10,182 [steps/nnet3/train_raw_dnn.py:328 - train - INFO ] Training will run for 4.0 epochs = 32 iterations
2018-08-15 17:06:10,182 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 0)
2018-08-15 17:06:10,184 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 0, learning rate is 0.0015.
2018-08-15 17:06:39,710 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 1)
2018-08-15 17:06:39,714 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 1, learning rate is 0.0013958580613945483.
2018-08-15 17:07:03,312 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 2)
2018-08-15 17:07:03,316 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 2, learning rate is 0.001298946485040098.
2018-08-15 17:07:26,855 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 3)
2018-08-15 17:07:26,860 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 3, learning rate is 0.0012087632816422226.
2018-08-15 17:07:50,492 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 4)
2018-08-15 17:07:50,496 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 4, learning rate is 0.0011248413139986837.
2018-08-15 17:08:14,138 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 5)
2018-08-15 17:08:14,157 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 5, learning rate is 0.0010467458772897994.
2018-08-15 17:08:37,729 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 6)
2018-08-15 17:08:37,734 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 6, learning rate is 0.000974072447364317.
2018-08-15 17:09:01,187 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 7)
2018-08-15 17:09:01,191 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 7, learning rate is 0.0009064445853571992.
2018-08-15 17:09:24,911 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 8)
2018-08-15 17:09:24,915 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 8, learning rate is 0.0008435119877855236.
2018-08-15 17:09:48,539 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 9)
2018-08-15 17:09:48,543 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 9, learning rate is 0.0007849486720222419.
2018-08-15 17:10:11,858 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 10)
2018-08-15 17:10:11,862 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 10, learning rate is 0.0007304512877487946.
2018-08-15 17:10:35,537 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 11)
2018-08-15 17:10:35,543 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 11, learning rate is 0.0006797375456401227.
2018-08-15 17:10:59,266 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 12)
2018-08-15 17:10:59,269 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 12, learning rate is 0.0006325447551428733.
2018-08-15 17:11:22,762 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 13)
2018-08-15 17:11:22,766 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 13, learning rate is 0.0005886284637726803.
2018-08-15 17:11:46,303 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 14)
2018-08-15 17:11:46,308 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 14, learning rate is 0.0005477611908822565.
2018-08-15 17:12:09,897 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 15)
2018-08-15 17:12:09,904 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 15, learning rate is 0.0005097312493413838.
2018-08-15 17:12:33,436 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 16)
2018-08-15 17:12:33,452 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 16, learning rate is 0.00047434164902525685.
2018-08-15 17:12:57,194 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 17)
2018-08-15 17:12:57,198 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 17, learning rate is 0.0004414090764313922.
2018-08-15 17:13:20,863 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 18)
2018-08-15 17:13:20,866 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 18, learning rate is 0.0004107629451396541.
2018-08-15 17:13:44,458 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 19)
2018-08-15 17:13:44,462 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 19, learning rate is 0.0003822445121969019.
2018-08-15 17:14:08,024 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 20)
2018-08-15 17:14:08,029 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 20, learning rate is 0.0003557060558492482.
2018-08-15 17:14:36,028 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 21)
2018-08-15 17:14:36,032 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 21, learning rate is 0.0003310101103626884.
2018-08-15 17:14:59,322 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 22)
2018-08-15 17:14:59,333 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 22, learning rate is 0.0003080287539685719.
2018-08-15 17:15:23,851 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 23)
2018-08-15 17:15:23,855 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 23, learning rate is 0.00028664294624556604.
2018-08-15 17:15:47,261 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 24)
2018-08-15 17:15:47,276 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 24, learning rate is 0.0002667419115058384.
2018-08-15 17:16:11,045 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 25)
2018-08-15 17:16:11,049 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 25, learning rate is 0.0002482225649914772.
2018-08-15 17:16:34,619 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 26)
2018-08-15 17:16:34,623 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 26, learning rate is 0.00023098897890892373.
2018-08-15 17:16:57,909 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 27)
2018-08-15 17:16:57,913 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 27, learning rate is 0.0002149518855355444.
2018-08-15 17:17:21,532 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 28)
2018-08-15 17:17:21,535 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 28, learning rate is 0.00020002821482449862.
2018-08-15 17:17:45,182 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 29)
2018-08-15 17:17:45,186 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 29, learning rate is 0.0001861406641127579.
2018-08-15 17:18:08,559 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 30)
2018-08-15 17:18:08,572 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 30, learning rate is 0.00017321729770341867.
2018-08-15 17:18:32,263 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 31)
2018-08-15 17:18:32,267 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 31, learning rate is 0.00015.
2018-08-15 17:18:55,992 [steps/nnet3/train_raw_dnn.py:401 - train - INFO ] Doing final combination to produce final.raw
2018-08-15 17:18:55,992 [steps/libs/nnet3/train/frame_level_objf/common.py:468 - combine_models - INFO ] Combining {32, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31} models.
2018-08-15 17:19:03,220 [steps/nnet3/train_raw_dnn.py:423 - train - INFO ] Cleaning up the experiment directory MTL/exp/nnet3/multitask
MTL/exp/nnet3/multitask: num-iters=32 nj=1..1 num-params=6.2M
steps/nnet3/train_raw_dnn.py --stage=-5 --cmd=utils/run.pl --trainer.num-epochs 4 --trainer.optimization.num-jobs-initial=1 --trainer.optimization.num-jobs-final=1 --trainer.optimization.initial-effective-lrate=0.0015 --trainer.optimization.final-effective-lrate=0.00015 --trainer.optimization.minibatch-size=256,128 --trainer.samples-per-iter=10000 --trainer.max-param-change=2.0 --trainer.srand=0 --feat.cmvn-opts=--norm-means=false --norm-vars=false --feat-dir MTL/data/atai-100F-org/train --egs.dir MTL/exp/nnet3/multitask/egs --use-dense-targets false --targets-scp MTL/exp/atai-100F-org/tri_ali --cleanup.remove-egs true --use-gpu true --dir=MTL/exp/nnet3/multitask
['steps/nnet3/train_raw_dnn.py', '--stage=-5', '--cmd=utils/run.pl', '--trainer.num-epochs', '4', '--trainer.optimization.num-jobs-initial=1', '--trainer.optimization.num-jobs-final=1', '--trainer.optimization.initial-effective-lrate=0.0015', '--trainer.optimization.final-effective-lrate=0.00015', '--trainer.optimization.minibatch-size=256,128', '--trainer.samples-per-iter=10000', '--trainer.max-param-change=2.0', '--trainer.srand=0', '--feat.cmvn-opts=--norm-means=false --norm-vars=false', '--feat-dir', 'MTL/data/atai-100F-org/train', '--egs.dir', 'MTL/exp/nnet3/multitask/egs', '--use-dense-targets', 'false', '--targets-scp', 'MTL/exp/atai-100F-org/tri_ali', '--cleanup.remove-egs', 'true', '--use-gpu', 'true', '--dir=MTL/exp/nnet3/multitask']
use_multitask_egs=True
### ============== ###
### END TRAIN NNET ###
### ============== ###
### ========================== ###
### SPLIT & COPY NNET PER TASK ###
### ========================== ###
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100F-org/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100F-org/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100F-org/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100F-org.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100F-org MTL/exp/atai-100F-org/nnet3/egs
### ============== ###
### BEGIN DECODING ###
### ============== ###
./run_nnet3_multitask.sh: line 335: 4: command not found
### decoding with  jobs, unigram LM ###
steps/nnet3/decode.sh --nj 4 --cmd utils/run.pl --max-active 250 --min-active 100 exp_atai-100F-org/triphones/graph data_atai-100F-org/test MTL/exp/nnet3/multitask/decode MTL/exp/nnet3/multitask/atai-100F-org/final_adj.mdl SPOKEN_NOISE SIL
steps/nnet3/decode.sh: feature type is raw
Decoding done.

#### BEGIN CALCULATE WER ####
###==============###
### END DECODING ###
###==============###

###### BEGIN TASK INFO ######
task= atai-100A-org
num_targets= 656
data_dir= MTL/data/atai-100A-org/train
ali_dir= MTL/exp/atai-100A-org/tri_ali
egs_dir= MTL/exp/atai-100A-org/nnet3/egs
###### END TASK INFO ######


###### BEGIN TASK INFO ######
task= atai-100A-mod
num_targets= 672
data_dir= MTL/data/atai-100A-mod/train
ali_dir= MTL/exp/atai-100A-mod/tri_ali
egs_dir= MTL/exp/atai-100A-mod/nnet3/egs
###### END TASK INFO ######

### ============================ ###
### CREATE CONFIG FILES FOR NNET ###
### ============================ ###
feat-to-dim scp:MTL/data/atai-100A-org/train/feats.scp - 
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
steps/nnet3/xconfig_to_configs.py --xconfig-file MTL/exp/nnet3/multitask/configs/network.xconfig --config-dir MTL/exp/nnet3/multitask/configs/ --nnet-edits=rename-node old-name=output-0 new-name=output
### ====================================== ###
### COMBINE ALL TASKS EGS INTO ONE BIG DIR ###
### ====================================== ###
steps/nnet3/multilingual/combine_egs.sh --cmd utils/run.pl --lang2weight 0.8,0.2 2 MTL/exp/atai-100A-org/nnet3/egs MTL/exp/atai-100A-mod/nnet3/egs MTL/exp/nnet3/multitask/egs
steps/nnet3/multilingual/combine_egs.sh: allocating multilingual examples for training.
steps/nnet3/multilingual/combine_egs.sh: combine combine.scp examples from all langs in MTL/exp/nnet3/multitask/egs/combine.scp.
steps/nnet3/multilingual/combine_egs.sh: combine train_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/train_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: combine valid_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/valid_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: Finished preparing multilingual training example.
### ================ ###
### BEGIN TRAIN NNET ###
### ================ ###
2018-08-15 17:21:05,739 [steps/nnet3/train_raw_dnn.py:34 - <module> - INFO ] Starting raw DNN trainer (train_raw_dnn.py)
2018-08-15 17:21:05,744 [steps/nnet3/train_raw_dnn.py:181 - train - INFO ] Arguments for the experiment
{'backstitch_training_interval': 1,
 'backstitch_training_scale': 0.0,
 'cleanup': True,
 'cmvn_opts': '--norm-means=false --norm-vars=false',
 'combine_sum_to_one_penalty': 0.0,
 'command': 'utils/run.pl',
 'compute_average_posteriors': False,
 'compute_per_dim_accuracy': False,
 'dir': 'MTL/exp/nnet3/multitask',
 'do_final_combination': True,
 'dropout_schedule': None,
 'egs_command': None,
 'egs_dir': 'MTL/exp/nnet3/multitask/egs',
 'egs_opts': None,
 'egs_stage': 0,
 'email': None,
 'exit_stage': None,
 'feat_dir': 'MTL/data/atai-100A-org/train',
 'final_combination': True,
 'final_effective_lrate': 0.00015,
 'frames_per_eg': 8,
 'image_augmentation_opts': None,
 'initial_effective_lrate': 0.0015,
 'max_lda_jobs': 10,
 'max_models_combine': 20,
 'max_objective_evaluations': 30,
 'max_param_change': 2.0,
 'minibatch_size': '256,128',
 'momentum': 0.0,
 'nj': 4,
 'num_epochs': 2.0,
 'num_jobs_compute_prior': 10,
 'num_jobs_final': 1,
 'num_jobs_initial': 1,
 'online_ivector_dir': None,
 'preserve_model_interval': 100,
 'presoftmax_prior_scale_power': -0.25,
 'prior_subset_size': 20000,
 'proportional_shrink': 0.0,
 'rand_prune': 4.0,
 'remove_egs': True,
 'reporting_interval': 0.1,
 'samples_per_iter': 10000,
 'shuffle_buffer_size': 5000,
 'srand': 0,
 'stage': -5,
 'targets_scp': 'MTL/exp/atai-100A-org/tri_ali',
 'transform_dir': None,
 'use_dense_targets': False,
 'use_gpu': True}
2018-08-15 17:21:05,752 [steps/nnet3/train_raw_dnn.py:294 - train - INFO ] Preparing the initial network.
2018-08-15 17:21:06,177 [steps/nnet3/train_raw_dnn.py:328 - train - INFO ] Training will run for 2.0 epochs = 32 iterations
2018-08-15 17:21:06,177 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 0)
2018-08-15 17:21:06,180 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 0, learning rate is 0.0015.
2018-08-15 17:21:38,917 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 1)
2018-08-15 17:21:38,940 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 1, learning rate is 0.0013958580613945483.
2018-08-15 17:22:16,206 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 2)
2018-08-15 17:22:16,276 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 2, learning rate is 0.001298946485040098.
2018-08-15 17:23:08,270 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 3)
2018-08-15 17:23:08,380 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 3, learning rate is 0.0012087632816422226.
2018-08-15 17:24:01,581 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 4)
2018-08-15 17:24:01,660 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 4, learning rate is 0.0011248413139986837.
2018-08-15 17:25:02,624 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 5)
2018-08-15 17:25:02,689 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 5, learning rate is 0.0010467458772897994.
2018-08-15 17:26:01,592 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 6)
2018-08-15 17:26:01,652 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 6, learning rate is 0.000974072447364317.
2018-08-15 17:27:03,597 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 7)
2018-08-15 17:27:03,664 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 7, learning rate is 0.0009064445853571992.
2018-08-15 17:28:01,825 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 8)
2018-08-15 17:28:01,884 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 8, learning rate is 0.0008435119877855236.
2018-08-15 17:29:00,844 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 9)
2018-08-15 17:29:00,908 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 9, learning rate is 0.0007849486720222419.
2018-08-15 17:29:57,224 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 10)
2018-08-15 17:29:57,312 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 10, learning rate is 0.0007304512877487946.
2018-08-15 17:30:57,285 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 11)
2018-08-15 17:30:57,372 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 11, learning rate is 0.0006797375456401227.
2018-08-15 17:31:57,989 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 12)
2018-08-15 17:31:58,052 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 12, learning rate is 0.0006325447551428733.
2018-08-15 17:33:05,362 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 13)
2018-08-15 17:33:05,428 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 13, learning rate is 0.0005886284637726803.
2018-08-15 17:34:02,905 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 14)
2018-08-15 17:34:02,976 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 14, learning rate is 0.0005477611908822565.
2018-08-15 17:35:03,548 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 15)
2018-08-15 17:35:03,608 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 15, learning rate is 0.0005097312493413838.
2018-08-15 17:36:02,837 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 16)
2018-08-15 17:36:02,900 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 16, learning rate is 0.00047434164902525685.
2018-08-15 17:37:01,858 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 17)
2018-08-15 17:37:01,912 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 17, learning rate is 0.0004414090764313922.
2018-08-15 17:37:55,110 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 18)
2018-08-15 17:37:55,172 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 18, learning rate is 0.0004107629451396541.
2018-08-15 17:38:57,102 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 19)
2018-08-15 17:38:57,167 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 19, learning rate is 0.0003822445121969019.
2018-08-15 17:40:00,912 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 20)
2018-08-15 17:40:01,004 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 20, learning rate is 0.0003557060558492482.
2018-08-15 17:41:20,199 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 21)
2018-08-15 17:41:20,252 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 21, learning rate is 0.0003310101103626884.
2018-08-15 17:42:10,976 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 22)
2018-08-15 17:42:11,064 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 22, learning rate is 0.0003080287539685719.
2018-08-15 17:43:04,464 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 23)
2018-08-15 17:43:04,552 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 23, learning rate is 0.00028664294624556604.
2018-08-15 17:43:55,968 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 24)
2018-08-15 17:43:56,044 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 24, learning rate is 0.0002667419115058384.
2018-08-15 17:44:55,907 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 25)
2018-08-15 17:44:55,976 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 25, learning rate is 0.0002482225649914772.
2018-08-15 17:46:01,989 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 26)
2018-08-15 17:46:02,024 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 26, learning rate is 0.00023098897890892373.
2018-08-15 17:47:07,236 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 27)
2018-08-15 17:47:07,305 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 27, learning rate is 0.0002149518855355444.
2018-08-15 17:48:09,069 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 28)
2018-08-15 17:48:09,132 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 28, learning rate is 0.00020002821482449862.
2018-08-15 17:49:07,165 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 29)
2018-08-15 17:49:07,261 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 29, learning rate is 0.0001861406641127579.
2018-08-15 17:50:00,204 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 30)
2018-08-15 17:50:00,258 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 30, learning rate is 0.00017321729770341867.
2018-08-15 17:51:00,417 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 31)
2018-08-15 17:51:00,484 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 31, learning rate is 0.00015.
2018-08-15 17:52:04,792 [steps/nnet3/train_raw_dnn.py:401 - train - INFO ] Doing final combination to produce final.raw
2018-08-15 17:52:04,796 [steps/libs/nnet3/train/frame_level_objf/common.py:468 - combine_models - INFO ] Combining {32, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31} models.
2018-08-15 17:52:43,604 [steps/nnet3/train_raw_dnn.py:423 - train - INFO ] Cleaning up the experiment directory MTL/exp/nnet3/multitask
MTL/exp/nnet3/multitask: num-iters=30 nj=1..1 num-params=6.8M
steps/nnet3/train_raw_dnn.py --stage=-5 --cmd=utils/run.pl --trainer.num-epochs 2 --trainer.optimization.num-jobs-initial=1 --trainer.optimization.num-jobs-final=1 --trainer.optimization.initial-effective-lrate=0.0015 --trainer.optimization.final-effective-lrate=0.00015 --trainer.optimization.minibatch-size=256,128 --trainer.samples-per-iter=10000 --trainer.max-param-change=2.0 --trainer.srand=0 --feat.cmvn-opts=--norm-means=false --norm-vars=false --feat-dir MTL/data/atai-100A-org/train --egs.dir MTL/exp/nnet3/multitask/egs --use-dense-targets false --targets-scp MTL/exp/atai-100A-org/tri_ali --cleanup.remove-egs true --use-gpu true --dir=MTL/exp/nnet3/multitask
['steps/nnet3/train_raw_dnn.py', '--stage=-5', '--cmd=utils/run.pl', '--trainer.num-epochs', '2', '--trainer.optimization.num-jobs-initial=1', '--trainer.optimization.num-jobs-final=1', '--trainer.optimization.initial-effective-lrate=0.0015', '--trainer.optimization.final-effective-lrate=0.00015', '--trainer.optimization.minibatch-size=256,128', '--trainer.samples-per-iter=10000', '--trainer.max-param-change=2.0', '--trainer.srand=0', '--feat.cmvn-opts=--norm-means=false --norm-vars=false', '--feat-dir', 'MTL/data/atai-100A-org/train', '--egs.dir', 'MTL/exp/nnet3/multitask/egs', '--use-dense-targets', 'false', '--targets-scp', 'MTL/exp/atai-100A-org/tri_ali', '--cleanup.remove-egs', 'true', '--use-gpu', 'true', '--dir=MTL/exp/nnet3/multitask']
use_multitask_egs=True
### ============== ###
### END TRAIN NNET ###
### ============== ###
### ========================== ###
### SPLIT & COPY NNET PER TASK ###
### ========================== ###
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100A-org/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100A-org/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100A-org/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100A-org.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100A-org MTL/exp/atai-100A-org/nnet3/egs
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100A-mod/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100A-mod/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-1 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100A-mod/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100A-mod.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100A-mod MTL/exp/atai-100A-mod/nnet3/egs
### ============== ###
### BEGIN DECODING ###
### ============== ###
./run_nnet3_multitask.sh: line 335: 4: command not found
### decoding with  jobs, unigram LM ###
steps/nnet3/decode.sh --nj 4 --cmd utils/run.pl --max-active 250 --min-active 100 exp_atai-100A-org/triphones/graph data_atai-100A-org/test MTL/exp/nnet3/multitask/decode MTL/exp/nnet3/multitask/atai-100A-org/final_adj.mdl SPOKEN_NOISE SIL
steps/nnet3/decode.sh: feature type is raw
Decoding done.

#### BEGIN CALCULATE WER ####
###==============###
### END DECODING ###
###==============###

###### BEGIN TASK INFO ######
task= atai-100B-org
num_targets= 648
data_dir= MTL/data/atai-100B-org/train
ali_dir= MTL/exp/atai-100B-org/tri_ali
egs_dir= MTL/exp/atai-100B-org/nnet3/egs
###### END TASK INFO ######


###### BEGIN TASK INFO ######
task= atai-100B-mod
num_targets= 696
data_dir= MTL/data/atai-100B-mod/train
ali_dir= MTL/exp/atai-100B-mod/tri_ali
egs_dir= MTL/exp/atai-100B-mod/nnet3/egs
###### END TASK INFO ######

### ============================ ###
### CREATE CONFIG FILES FOR NNET ###
### ============================ ###
feat-to-dim scp:MTL/data/atai-100B-org/train/feats.scp - 
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
steps/nnet3/xconfig_to_configs.py --xconfig-file MTL/exp/nnet3/multitask/configs/network.xconfig --config-dir MTL/exp/nnet3/multitask/configs/ --nnet-edits=rename-node old-name=output-0 new-name=output
### ====================================== ###
### COMBINE ALL TASKS EGS INTO ONE BIG DIR ###
### ====================================== ###
steps/nnet3/multilingual/combine_egs.sh --cmd utils/run.pl --lang2weight 0.8,0.2 2 MTL/exp/atai-100B-org/nnet3/egs MTL/exp/atai-100B-mod/nnet3/egs MTL/exp/nnet3/multitask/egs
steps/nnet3/multilingual/combine_egs.sh: allocating multilingual examples for training.
steps/nnet3/multilingual/combine_egs.sh: combine combine.scp examples from all langs in MTL/exp/nnet3/multitask/egs/combine.scp.
steps/nnet3/multilingual/combine_egs.sh: combine train_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/train_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: combine valid_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/valid_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: Finished preparing multilingual training example.
### ================ ###
### BEGIN TRAIN NNET ###
### ================ ###
2018-08-15 17:56:28,841 [steps/nnet3/train_raw_dnn.py:34 - <module> - INFO ] Starting raw DNN trainer (train_raw_dnn.py)
2018-08-15 17:56:28,847 [steps/nnet3/train_raw_dnn.py:181 - train - INFO ] Arguments for the experiment
{'backstitch_training_interval': 1,
 'backstitch_training_scale': 0.0,
 'cleanup': True,
 'cmvn_opts': '--norm-means=false --norm-vars=false',
 'combine_sum_to_one_penalty': 0.0,
 'command': 'utils/run.pl',
 'compute_average_posteriors': False,
 'compute_per_dim_accuracy': False,
 'dir': 'MTL/exp/nnet3/multitask',
 'do_final_combination': True,
 'dropout_schedule': None,
 'egs_command': None,
 'egs_dir': 'MTL/exp/nnet3/multitask/egs',
 'egs_opts': None,
 'egs_stage': 0,
 'email': None,
 'exit_stage': None,
 'feat_dir': 'MTL/data/atai-100B-org/train',
 'final_combination': True,
 'final_effective_lrate': 0.00015,
 'frames_per_eg': 8,
 'image_augmentation_opts': None,
 'initial_effective_lrate': 0.0015,
 'max_lda_jobs': 10,
 'max_models_combine': 20,
 'max_objective_evaluations': 30,
 'max_param_change': 2.0,
 'minibatch_size': '256,128',
 'momentum': 0.0,
 'nj': 4,
 'num_epochs': 2.0,
 'num_jobs_compute_prior': 10,
 'num_jobs_final': 1,
 'num_jobs_initial': 1,
 'online_ivector_dir': None,
 'preserve_model_interval': 100,
 'presoftmax_prior_scale_power': -0.25,
 'prior_subset_size': 20000,
 'proportional_shrink': 0.0,
 'rand_prune': 4.0,
 'remove_egs': True,
 'reporting_interval': 0.1,
 'samples_per_iter': 10000,
 'shuffle_buffer_size': 5000,
 'srand': 0,
 'stage': -5,
 'targets_scp': 'MTL/exp/atai-100B-org/tri_ali',
 'transform_dir': None,
 'use_dense_targets': False,
 'use_gpu': True}
2018-08-15 17:56:28,855 [steps/nnet3/train_raw_dnn.py:294 - train - INFO ] Preparing the initial network.
2018-08-15 17:56:29,280 [steps/nnet3/train_raw_dnn.py:328 - train - INFO ] Training will run for 2.0 epochs = 32 iterations
2018-08-15 17:56:29,280 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 0)
2018-08-15 17:56:29,283 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 0, learning rate is 0.0015.
2018-08-15 17:57:01,429 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 1)
2018-08-15 17:57:01,448 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 1, learning rate is 0.0013958580613945483.
2018-08-15 17:57:34,400 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 2)
2018-08-15 17:57:34,424 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 2, learning rate is 0.001298946485040098.
2018-08-15 17:58:17,067 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 3)
2018-08-15 17:58:17,148 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 3, learning rate is 0.0012087632816422226.
2018-08-15 17:59:00,868 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 4)
2018-08-15 17:59:00,908 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 4, learning rate is 0.0011248413139986837.
2018-08-15 17:59:45,480 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 5)
2018-08-15 17:59:45,548 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 5, learning rate is 0.0010467458772897994.
2018-08-15 18:00:31,352 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 6)
2018-08-15 18:00:31,424 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 6, learning rate is 0.000974072447364317.
2018-08-15 18:01:18,760 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 7)
2018-08-15 18:01:18,844 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 7, learning rate is 0.0009064445853571992.
2018-08-15 18:02:05,572 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 8)
2018-08-15 18:02:05,649 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 8, learning rate is 0.0008435119877855236.
2018-08-15 18:02:53,612 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 9)
2018-08-15 18:02:53,688 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 9, learning rate is 0.0007849486720222419.
2018-08-15 18:03:40,300 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 10)
2018-08-15 18:03:40,376 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 10, learning rate is 0.0007304512877487946.
2018-08-15 18:04:29,337 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 11)
2018-08-15 18:04:29,400 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 11, learning rate is 0.0006797375456401227.
2018-08-15 18:05:17,642 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 12)
2018-08-15 18:05:17,700 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 12, learning rate is 0.0006325447551428733.
2018-08-15 18:06:08,837 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 13)
2018-08-15 18:06:08,899 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 13, learning rate is 0.0005886284637726803.
2018-08-15 18:06:55,882 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 14)
2018-08-15 18:06:55,939 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 14, learning rate is 0.0005477611908822565.
2018-08-15 18:07:42,624 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 15)
2018-08-15 18:07:42,696 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 15, learning rate is 0.0005097312493413838.
2018-08-15 18:08:30,021 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 16)
2018-08-15 18:08:30,100 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 16, learning rate is 0.00047434164902525685.
2018-08-15 18:09:18,054 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 17)
2018-08-15 18:09:18,128 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 17, learning rate is 0.0004414090764313922.
2018-08-15 18:10:03,305 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 18)
2018-08-15 18:10:03,360 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 18, learning rate is 0.0004107629451396541.
2018-08-15 18:10:51,157 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 19)
2018-08-15 18:10:51,240 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 19, learning rate is 0.0003822445121969019.
2018-08-15 18:11:35,457 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 20)
2018-08-15 18:11:35,516 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 20, learning rate is 0.0003557060558492482.
2018-08-15 18:12:37,000 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 21)
2018-08-15 18:12:37,068 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 21, learning rate is 0.0003310101103626884.
2018-08-15 18:13:17,565 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 22)
2018-08-15 18:13:17,606 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 22, learning rate is 0.0003080287539685719.
2018-08-15 18:14:01,208 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 23)
2018-08-15 18:14:01,292 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 23, learning rate is 0.00028664294624556604.
2018-08-15 18:14:44,957 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 24)
2018-08-15 18:14:45,024 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 24, learning rate is 0.0002667419115058384.
2018-08-15 18:15:33,932 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 25)
2018-08-15 18:15:34,004 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 25, learning rate is 0.0002482225649914772.
2018-08-15 18:16:19,324 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 26)
2018-08-15 18:16:19,392 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 26, learning rate is 0.00023098897890892373.
2018-08-15 18:17:05,320 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 27)
2018-08-15 18:17:05,400 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 27, learning rate is 0.0002149518855355444.
2018-08-15 18:17:51,573 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 28)
2018-08-15 18:17:51,640 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 28, learning rate is 0.00020002821482449862.
2018-08-15 18:18:41,042 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 29)
2018-08-15 18:18:41,092 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 29, learning rate is 0.0001861406641127579.
2018-08-15 18:19:27,532 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 30)
2018-08-15 18:19:27,576 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 30, learning rate is 0.00017321729770341867.
2018-08-15 18:20:14,360 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 31)
2018-08-15 18:20:14,432 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 31, learning rate is 0.00015.
2018-08-15 18:21:00,968 [steps/nnet3/train_raw_dnn.py:401 - train - INFO ] Doing final combination to produce final.raw
2018-08-15 18:21:00,968 [steps/libs/nnet3/train/frame_level_objf/common.py:468 - combine_models - INFO ] Combining {32, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31} models.
2018-08-15 18:21:23,832 [steps/nnet3/train_raw_dnn.py:423 - train - INFO ] Cleaning up the experiment directory MTL/exp/nnet3/multitask
MTL/exp/nnet3/multitask: num-iters=30 nj=1..1 num-params=6.8M
steps/nnet3/train_raw_dnn.py --stage=-5 --cmd=utils/run.pl --trainer.num-epochs 2 --trainer.optimization.num-jobs-initial=1 --trainer.optimization.num-jobs-final=1 --trainer.optimization.initial-effective-lrate=0.0015 --trainer.optimization.final-effective-lrate=0.00015 --trainer.optimization.minibatch-size=256,128 --trainer.samples-per-iter=10000 --trainer.max-param-change=2.0 --trainer.srand=0 --feat.cmvn-opts=--norm-means=false --norm-vars=false --feat-dir MTL/data/atai-100B-org/train --egs.dir MTL/exp/nnet3/multitask/egs --use-dense-targets false --targets-scp MTL/exp/atai-100B-org/tri_ali --cleanup.remove-egs true --use-gpu true --dir=MTL/exp/nnet3/multitask
['steps/nnet3/train_raw_dnn.py', '--stage=-5', '--cmd=utils/run.pl', '--trainer.num-epochs', '2', '--trainer.optimization.num-jobs-initial=1', '--trainer.optimization.num-jobs-final=1', '--trainer.optimization.initial-effective-lrate=0.0015', '--trainer.optimization.final-effective-lrate=0.00015', '--trainer.optimization.minibatch-size=256,128', '--trainer.samples-per-iter=10000', '--trainer.max-param-change=2.0', '--trainer.srand=0', '--feat.cmvn-opts=--norm-means=false --norm-vars=false', '--feat-dir', 'MTL/data/atai-100B-org/train', '--egs.dir', 'MTL/exp/nnet3/multitask/egs', '--use-dense-targets', 'false', '--targets-scp', 'MTL/exp/atai-100B-org/tri_ali', '--cleanup.remove-egs', 'true', '--use-gpu', 'true', '--dir=MTL/exp/nnet3/multitask']
use_multitask_egs=True
### ============== ###
### END TRAIN NNET ###
### ============== ###
### ========================== ###
### SPLIT & COPY NNET PER TASK ###
### ========================== ###
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100B-org/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100B-org/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100B-org/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100B-org.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100B-org MTL/exp/atai-100B-org/nnet3/egs
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100B-mod/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100B-mod/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-1 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100B-mod/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100B-mod.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100B-mod MTL/exp/atai-100B-mod/nnet3/egs
### ============== ###
### BEGIN DECODING ###
### ============== ###
./run_nnet3_multitask.sh: line 335: 4: command not found
### decoding with  jobs, unigram LM ###
steps/nnet3/decode.sh --nj 4 --cmd utils/run.pl --max-active 250 --min-active 100 exp_atai-100B-org/triphones/graph data_atai-100B-org/test MTL/exp/nnet3/multitask/decode MTL/exp/nnet3/multitask/atai-100B-org/final_adj.mdl SPOKEN_NOISE SIL
steps/nnet3/decode.sh: feature type is raw
Decoding done.

#### BEGIN CALCULATE WER ####
###==============###
### END DECODING ###
###==============###

###### BEGIN TASK INFO ######
task= atai-100C-org
num_targets= 712
data_dir= MTL/data/atai-100C-org/train
ali_dir= MTL/exp/atai-100C-org/tri_ali
egs_dir= MTL/exp/atai-100C-org/nnet3/egs
###### END TASK INFO ######


###### BEGIN TASK INFO ######
task= atai-100C-mod
num_targets= 680
data_dir= MTL/data/atai-100C-mod/train
ali_dir= MTL/exp/atai-100C-mod/tri_ali
egs_dir= MTL/exp/atai-100C-mod/nnet3/egs
###### END TASK INFO ######

### ============================ ###
### CREATE CONFIG FILES FOR NNET ###
### ============================ ###
feat-to-dim scp:MTL/data/atai-100C-org/train/feats.scp - 
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
steps/nnet3/xconfig_to_configs.py --xconfig-file MTL/exp/nnet3/multitask/configs/network.xconfig --config-dir MTL/exp/nnet3/multitask/configs/ --nnet-edits=rename-node old-name=output-0 new-name=output
### ====================================== ###
### COMBINE ALL TASKS EGS INTO ONE BIG DIR ###
### ====================================== ###
steps/nnet3/multilingual/combine_egs.sh --cmd utils/run.pl --lang2weight 0.8,0.2 2 MTL/exp/atai-100C-org/nnet3/egs MTL/exp/atai-100C-mod/nnet3/egs MTL/exp/nnet3/multitask/egs
steps/nnet3/multilingual/combine_egs.sh: allocating multilingual examples for training.
steps/nnet3/multilingual/combine_egs.sh: combine combine.scp examples from all langs in MTL/exp/nnet3/multitask/egs/combine.scp.
steps/nnet3/multilingual/combine_egs.sh: combine train_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/train_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: combine valid_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/valid_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: Finished preparing multilingual training example.
### ================ ###
### BEGIN TRAIN NNET ###
### ================ ###
2018-08-15 18:24:52,300 [steps/nnet3/train_raw_dnn.py:34 - <module> - INFO ] Starting raw DNN trainer (train_raw_dnn.py)
2018-08-15 18:24:52,305 [steps/nnet3/train_raw_dnn.py:181 - train - INFO ] Arguments for the experiment
{'backstitch_training_interval': 1,
 'backstitch_training_scale': 0.0,
 'cleanup': True,
 'cmvn_opts': '--norm-means=false --norm-vars=false',
 'combine_sum_to_one_penalty': 0.0,
 'command': 'utils/run.pl',
 'compute_average_posteriors': False,
 'compute_per_dim_accuracy': False,
 'dir': 'MTL/exp/nnet3/multitask',
 'do_final_combination': True,
 'dropout_schedule': None,
 'egs_command': None,
 'egs_dir': 'MTL/exp/nnet3/multitask/egs',
 'egs_opts': None,
 'egs_stage': 0,
 'email': None,
 'exit_stage': None,
 'feat_dir': 'MTL/data/atai-100C-org/train',
 'final_combination': True,
 'final_effective_lrate': 0.00015,
 'frames_per_eg': 8,
 'image_augmentation_opts': None,
 'initial_effective_lrate': 0.0015,
 'max_lda_jobs': 10,
 'max_models_combine': 20,
 'max_objective_evaluations': 30,
 'max_param_change': 2.0,
 'minibatch_size': '256,128',
 'momentum': 0.0,
 'nj': 4,
 'num_epochs': 2.0,
 'num_jobs_compute_prior': 10,
 'num_jobs_final': 1,
 'num_jobs_initial': 1,
 'online_ivector_dir': None,
 'preserve_model_interval': 100,
 'presoftmax_prior_scale_power': -0.25,
 'prior_subset_size': 20000,
 'proportional_shrink': 0.0,
 'rand_prune': 4.0,
 'remove_egs': True,
 'reporting_interval': 0.1,
 'samples_per_iter': 10000,
 'shuffle_buffer_size': 5000,
 'srand': 0,
 'stage': -5,
 'targets_scp': 'MTL/exp/atai-100C-org/tri_ali',
 'transform_dir': None,
 'use_dense_targets': False,
 'use_gpu': True}
2018-08-15 18:24:52,313 [steps/nnet3/train_raw_dnn.py:294 - train - INFO ] Preparing the initial network.
2018-08-15 18:24:52,742 [steps/nnet3/train_raw_dnn.py:328 - train - INFO ] Training will run for 2.0 epochs = 32 iterations
2018-08-15 18:24:52,743 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 0)
2018-08-15 18:24:52,745 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 0, learning rate is 0.0015.
2018-08-15 18:25:24,754 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 1)
2018-08-15 18:25:24,773 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 1, learning rate is 0.0013958580613945483.
2018-08-15 18:26:01,551 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 2)
2018-08-15 18:26:01,608 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 2, learning rate is 0.001298946485040098.
2018-08-15 18:26:52,658 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 3)
2018-08-15 18:26:52,728 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 3, learning rate is 0.0012087632816422226.
2018-08-15 18:27:44,585 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 4)
2018-08-15 18:27:44,660 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 4, learning rate is 0.0011248413139986837.
2018-08-15 18:28:49,755 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 5)
2018-08-15 18:28:49,820 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 5, learning rate is 0.0010467458772897994.
2018-08-15 18:29:51,724 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 6)
2018-08-15 18:29:51,808 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 6, learning rate is 0.000974072447364317.
2018-08-15 18:30:51,151 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 7)
2018-08-15 18:30:51,200 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 7, learning rate is 0.0009064445853571992.
2018-08-15 18:31:48,857 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 8)
2018-08-15 18:31:48,920 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 8, learning rate is 0.0008435119877855236.
2018-08-15 18:32:48,689 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 9)
2018-08-15 18:32:48,751 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 9, learning rate is 0.0007849486720222419.
2018-08-15 18:33:50,513 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 10)
2018-08-15 18:33:50,569 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 10, learning rate is 0.0007304512877487946.
2018-08-15 18:34:55,666 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 11)
2018-08-15 18:34:55,748 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 11, learning rate is 0.0006797375456401227.
2018-08-15 18:35:55,157 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 12)
2018-08-15 18:35:55,224 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 12, learning rate is 0.0006325447551428733.
2018-08-15 18:36:48,625 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 13)
2018-08-15 18:36:48,704 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 13, learning rate is 0.0005886284637726803.
2018-08-15 18:37:48,109 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 14)
2018-08-15 18:37:48,184 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 14, learning rate is 0.0005477611908822565.
2018-08-15 18:38:51,785 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 15)
2018-08-15 18:38:51,868 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 15, learning rate is 0.0005097312493413838.
2018-08-15 18:39:51,330 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 16)
2018-08-15 18:39:51,396 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 16, learning rate is 0.00047434164902525685.
2018-08-15 18:40:46,066 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 17)
2018-08-15 18:40:46,120 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 17, learning rate is 0.0004414090764313922.
2018-08-15 18:41:44,633 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 18)
2018-08-15 18:41:44,695 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 18, learning rate is 0.0004107629451396541.
2018-08-15 18:42:46,345 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 19)
2018-08-15 18:42:46,396 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 19, learning rate is 0.0003822445121969019.
2018-08-15 18:43:49,788 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 20)
2018-08-15 18:43:49,856 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 20, learning rate is 0.0003557060558492482.
2018-08-15 18:45:07,444 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 21)
2018-08-15 18:45:07,520 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 21, learning rate is 0.0003310101103626884.
2018-08-15 18:46:02,041 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 22)
2018-08-15 18:46:02,116 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 22, learning rate is 0.0003080287539685719.
2018-08-15 18:46:55,900 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 23)
2018-08-15 18:46:55,952 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 23, learning rate is 0.00028664294624556604.
2018-08-15 18:47:51,948 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 24)
2018-08-15 18:47:52,028 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 24, learning rate is 0.0002667419115058384.
2018-08-15 18:48:52,072 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 25)
2018-08-15 18:48:52,152 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 25, learning rate is 0.0002482225649914772.
2018-08-15 18:49:49,332 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 26)
2018-08-15 18:49:49,391 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 26, learning rate is 0.00023098897890892373.
2018-08-15 18:50:48,793 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 27)
2018-08-15 18:50:48,880 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 27, learning rate is 0.0002149518855355444.
2018-08-15 18:51:48,652 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 28)
2018-08-15 18:51:48,716 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 28, learning rate is 0.00020002821482449862.
2018-08-15 18:52:55,324 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 29)
2018-08-15 18:52:55,384 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 29, learning rate is 0.0001861406641127579.
2018-08-15 18:53:53,984 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 30)
2018-08-15 18:53:54,052 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 30, learning rate is 0.00017321729770341867.
2018-08-15 18:54:53,916 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 31)
2018-08-15 18:54:53,980 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 31, learning rate is 0.00015.
2018-08-15 18:55:49,805 [steps/nnet3/train_raw_dnn.py:401 - train - INFO ] Doing final combination to produce final.raw
2018-08-15 18:55:49,805 [steps/libs/nnet3/train/frame_level_objf/common.py:468 - combine_models - INFO ] Combining {32, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31} models.
2018-08-15 18:56:28,012 [steps/nnet3/train_raw_dnn.py:423 - train - INFO ] Cleaning up the experiment directory MTL/exp/nnet3/multitask
MTL/exp/nnet3/multitask: num-iters=30 nj=1..1 num-params=6.8M
steps/nnet3/train_raw_dnn.py --stage=-5 --cmd=utils/run.pl --trainer.num-epochs 2 --trainer.optimization.num-jobs-initial=1 --trainer.optimization.num-jobs-final=1 --trainer.optimization.initial-effective-lrate=0.0015 --trainer.optimization.final-effective-lrate=0.00015 --trainer.optimization.minibatch-size=256,128 --trainer.samples-per-iter=10000 --trainer.max-param-change=2.0 --trainer.srand=0 --feat.cmvn-opts=--norm-means=false --norm-vars=false --feat-dir MTL/data/atai-100C-org/train --egs.dir MTL/exp/nnet3/multitask/egs --use-dense-targets false --targets-scp MTL/exp/atai-100C-org/tri_ali --cleanup.remove-egs true --use-gpu true --dir=MTL/exp/nnet3/multitask
['steps/nnet3/train_raw_dnn.py', '--stage=-5', '--cmd=utils/run.pl', '--trainer.num-epochs', '2', '--trainer.optimization.num-jobs-initial=1', '--trainer.optimization.num-jobs-final=1', '--trainer.optimization.initial-effective-lrate=0.0015', '--trainer.optimization.final-effective-lrate=0.00015', '--trainer.optimization.minibatch-size=256,128', '--trainer.samples-per-iter=10000', '--trainer.max-param-change=2.0', '--trainer.srand=0', '--feat.cmvn-opts=--norm-means=false --norm-vars=false', '--feat-dir', 'MTL/data/atai-100C-org/train', '--egs.dir', 'MTL/exp/nnet3/multitask/egs', '--use-dense-targets', 'false', '--targets-scp', 'MTL/exp/atai-100C-org/tri_ali', '--cleanup.remove-egs', 'true', '--use-gpu', 'true', '--dir=MTL/exp/nnet3/multitask']
use_multitask_egs=True
### ============== ###
### END TRAIN NNET ###
### ============== ###
### ========================== ###
### SPLIT & COPY NNET PER TASK ###
### ========================== ###
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100C-org/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100C-org/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100C-org/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100C-org.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100C-org MTL/exp/atai-100C-org/nnet3/egs
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100C-mod/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100C-mod/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-1 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100C-mod/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100C-mod.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100C-mod MTL/exp/atai-100C-mod/nnet3/egs
### ============== ###
### BEGIN DECODING ###
### ============== ###
./run_nnet3_multitask.sh: line 335: 4: command not found
### decoding with  jobs, unigram LM ###
steps/nnet3/decode.sh --nj 4 --cmd utils/run.pl --max-active 250 --min-active 100 exp_atai-100C-org/triphones/graph data_atai-100C-org/test MTL/exp/nnet3/multitask/decode MTL/exp/nnet3/multitask/atai-100C-org/final_adj.mdl SPOKEN_NOISE SIL
steps/nnet3/decode.sh: feature type is raw
Decoding done.

#### BEGIN CALCULATE WER ####
###==============###
### END DECODING ###
###==============###

###### BEGIN TASK INFO ######
task= atai-100D-org
num_targets= 704
data_dir= MTL/data/atai-100D-org/train
ali_dir= MTL/exp/atai-100D-org/tri_ali
egs_dir= MTL/exp/atai-100D-org/nnet3/egs
###### END TASK INFO ######


###### BEGIN TASK INFO ######
task= atai-100D-mod
num_targets= 696
data_dir= MTL/data/atai-100D-mod/train
ali_dir= MTL/exp/atai-100D-mod/tri_ali
egs_dir= MTL/exp/atai-100D-mod/nnet3/egs
###### END TASK INFO ######

### ============================ ###
### CREATE CONFIG FILES FOR NNET ###
### ============================ ###
feat-to-dim scp:MTL/data/atai-100D-org/train/feats.scp - 
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
steps/nnet3/xconfig_to_configs.py --xconfig-file MTL/exp/nnet3/multitask/configs/network.xconfig --config-dir MTL/exp/nnet3/multitask/configs/ --nnet-edits=rename-node old-name=output-0 new-name=output
### ====================================== ###
### COMBINE ALL TASKS EGS INTO ONE BIG DIR ###
### ====================================== ###
steps/nnet3/multilingual/combine_egs.sh --cmd utils/run.pl --lang2weight 0.8,0.2 2 MTL/exp/atai-100D-org/nnet3/egs MTL/exp/atai-100D-mod/nnet3/egs MTL/exp/nnet3/multitask/egs
steps/nnet3/multilingual/combine_egs.sh: allocating multilingual examples for training.
steps/nnet3/multilingual/combine_egs.sh: combine combine.scp examples from all langs in MTL/exp/nnet3/multitask/egs/combine.scp.
steps/nnet3/multilingual/combine_egs.sh: combine train_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/train_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: combine valid_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/valid_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: Finished preparing multilingual training example.
### ================ ###
### BEGIN TRAIN NNET ###
### ================ ###
2018-08-15 19:00:13,458 [steps/nnet3/train_raw_dnn.py:34 - <module> - INFO ] Starting raw DNN trainer (train_raw_dnn.py)
2018-08-15 19:00:13,463 [steps/nnet3/train_raw_dnn.py:181 - train - INFO ] Arguments for the experiment
{'backstitch_training_interval': 1,
 'backstitch_training_scale': 0.0,
 'cleanup': True,
 'cmvn_opts': '--norm-means=false --norm-vars=false',
 'combine_sum_to_one_penalty': 0.0,
 'command': 'utils/run.pl',
 'compute_average_posteriors': False,
 'compute_per_dim_accuracy': False,
 'dir': 'MTL/exp/nnet3/multitask',
 'do_final_combination': True,
 'dropout_schedule': None,
 'egs_command': None,
 'egs_dir': 'MTL/exp/nnet3/multitask/egs',
 'egs_opts': None,
 'egs_stage': 0,
 'email': None,
 'exit_stage': None,
 'feat_dir': 'MTL/data/atai-100D-org/train',
 'final_combination': True,
 'final_effective_lrate': 0.00015,
 'frames_per_eg': 8,
 'image_augmentation_opts': None,
 'initial_effective_lrate': 0.0015,
 'max_lda_jobs': 10,
 'max_models_combine': 20,
 'max_objective_evaluations': 30,
 'max_param_change': 2.0,
 'minibatch_size': '256,128',
 'momentum': 0.0,
 'nj': 4,
 'num_epochs': 2.0,
 'num_jobs_compute_prior': 10,
 'num_jobs_final': 1,
 'num_jobs_initial': 1,
 'online_ivector_dir': None,
 'preserve_model_interval': 100,
 'presoftmax_prior_scale_power': -0.25,
 'prior_subset_size': 20000,
 'proportional_shrink': 0.0,
 'rand_prune': 4.0,
 'remove_egs': True,
 'reporting_interval': 0.1,
 'samples_per_iter': 10000,
 'shuffle_buffer_size': 5000,
 'srand': 0,
 'stage': -5,
 'targets_scp': 'MTL/exp/atai-100D-org/tri_ali',
 'transform_dir': None,
 'use_dense_targets': False,
 'use_gpu': True}
2018-08-15 19:00:13,471 [steps/nnet3/train_raw_dnn.py:294 - train - INFO ] Preparing the initial network.
2018-08-15 19:00:13,897 [steps/nnet3/train_raw_dnn.py:328 - train - INFO ] Training will run for 2.0 epochs = 32 iterations
2018-08-15 19:00:13,898 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 0)
2018-08-15 19:00:13,900 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 0, learning rate is 0.0015.
2018-08-15 19:00:46,205 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 1)
2018-08-15 19:00:46,220 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 1, learning rate is 0.0013958580613945483.
2018-08-15 19:01:24,866 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 2)
2018-08-15 19:01:24,940 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 2, learning rate is 0.001298946485040098.
2018-08-15 19:02:14,802 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 3)
2018-08-15 19:02:14,864 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 3, learning rate is 0.0012087632816422226.
2018-08-15 19:03:04,960 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 4)
2018-08-15 19:03:05,025 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 4, learning rate is 0.0011248413139986837.
2018-08-15 19:04:03,857 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 5)
2018-08-15 19:04:03,916 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 5, learning rate is 0.0010467458772897994.
2018-08-15 19:05:07,213 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 6)
2018-08-15 19:05:07,276 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 6, learning rate is 0.000974072447364317.
2018-08-15 19:06:07,904 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 7)
2018-08-15 19:06:07,980 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 7, learning rate is 0.0009064445853571992.
2018-08-15 19:07:07,377 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 8)
2018-08-15 19:07:07,444 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 8, learning rate is 0.0008435119877855236.
2018-08-15 19:08:10,565 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 9)
2018-08-15 19:08:10,628 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 9, learning rate is 0.0007849486720222419.
2018-08-15 19:09:08,444 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 10)
2018-08-15 19:09:08,508 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 10, learning rate is 0.0007304512877487946.
2018-08-15 19:10:07,345 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 11)
2018-08-15 19:10:07,424 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 11, learning rate is 0.0006797375456401227.
2018-08-15 19:11:10,181 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 12)
2018-08-15 19:11:10,232 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 12, learning rate is 0.0006325447551428733.
2018-08-15 19:12:14,769 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 13)
2018-08-15 19:12:14,840 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 13, learning rate is 0.0005886284637726803.
2018-08-15 19:13:11,333 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 14)
2018-08-15 19:13:11,396 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 14, learning rate is 0.0005477611908822565.
2018-08-15 19:14:08,614 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 15)
2018-08-15 19:14:08,692 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 15, learning rate is 0.0005097312493413838.
2018-08-15 19:15:07,425 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 16)
2018-08-15 19:15:07,488 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 16, learning rate is 0.00047434164902525685.
2018-08-15 19:16:08,377 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 17)
2018-08-15 19:16:08,448 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 17, learning rate is 0.0004414090764313922.
2018-08-15 19:17:10,845 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 18)
2018-08-15 19:17:10,928 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 18, learning rate is 0.0004107629451396541.
2018-08-15 19:18:07,918 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 19)
2018-08-15 19:18:07,976 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 19, learning rate is 0.0003822445121969019.
2018-08-15 19:19:04,236 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 20)
2018-08-15 19:19:04,325 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 20, learning rate is 0.0003557060558492482.
2018-08-15 19:20:22,324 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 21)
2018-08-15 19:20:22,396 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 21, learning rate is 0.0003310101103626884.
2018-08-15 19:21:15,132 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 22)
2018-08-15 19:21:15,205 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 22, learning rate is 0.0003080287539685719.
2018-08-15 19:22:08,192 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 23)
2018-08-15 19:22:08,240 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 23, learning rate is 0.00028664294624556604.
2018-08-15 19:23:01,596 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 24)
2018-08-15 19:23:01,668 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 24, learning rate is 0.0002667419115058384.
2018-08-15 19:24:05,900 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 25)
2018-08-15 19:24:05,976 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 25, learning rate is 0.0002482225649914772.
2018-08-15 19:25:06,573 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 26)
2018-08-15 19:25:06,660 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 26, learning rate is 0.00023098897890892373.
2018-08-15 19:26:05,031 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 27)
2018-08-15 19:26:05,076 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 27, learning rate is 0.0002149518855355444.
2018-08-15 19:27:05,352 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 28)
2018-08-15 19:27:05,428 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 28, learning rate is 0.00020002821482449862.
2018-08-15 19:28:10,780 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 29)
2018-08-15 19:28:10,852 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 29, learning rate is 0.0001861406641127579.
2018-08-15 19:29:06,128 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 30)
2018-08-15 19:29:06,187 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 30, learning rate is 0.00017321729770341867.
2018-08-15 19:30:08,313 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 31)
2018-08-15 19:30:08,363 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 31, learning rate is 0.00015.
2018-08-15 19:31:04,996 [steps/nnet3/train_raw_dnn.py:401 - train - INFO ] Doing final combination to produce final.raw
2018-08-15 19:31:05,008 [steps/libs/nnet3/train/frame_level_objf/common.py:468 - combine_models - INFO ] Combining {32, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31} models.
2018-08-15 19:31:56,204 [steps/nnet3/train_raw_dnn.py:423 - train - INFO ] Cleaning up the experiment directory MTL/exp/nnet3/multitask
MTL/exp/nnet3/multitask: num-iters=30 nj=1..1 num-params=6.8M
steps/nnet3/train_raw_dnn.py --stage=-5 --cmd=utils/run.pl --trainer.num-epochs 2 --trainer.optimization.num-jobs-initial=1 --trainer.optimization.num-jobs-final=1 --trainer.optimization.initial-effective-lrate=0.0015 --trainer.optimization.final-effective-lrate=0.00015 --trainer.optimization.minibatch-size=256,128 --trainer.samples-per-iter=10000 --trainer.max-param-change=2.0 --trainer.srand=0 --feat.cmvn-opts=--norm-means=false --norm-vars=false --feat-dir MTL/data/atai-100D-org/train --egs.dir MTL/exp/nnet3/multitask/egs --use-dense-targets false --targets-scp MTL/exp/atai-100D-org/tri_ali --cleanup.remove-egs true --use-gpu true --dir=MTL/exp/nnet3/multitask
['steps/nnet3/train_raw_dnn.py', '--stage=-5', '--cmd=utils/run.pl', '--trainer.num-epochs', '2', '--trainer.optimization.num-jobs-initial=1', '--trainer.optimization.num-jobs-final=1', '--trainer.optimization.initial-effective-lrate=0.0015', '--trainer.optimization.final-effective-lrate=0.00015', '--trainer.optimization.minibatch-size=256,128', '--trainer.samples-per-iter=10000', '--trainer.max-param-change=2.0', '--trainer.srand=0', '--feat.cmvn-opts=--norm-means=false --norm-vars=false', '--feat-dir', 'MTL/data/atai-100D-org/train', '--egs.dir', 'MTL/exp/nnet3/multitask/egs', '--use-dense-targets', 'false', '--targets-scp', 'MTL/exp/atai-100D-org/tri_ali', '--cleanup.remove-egs', 'true', '--use-gpu', 'true', '--dir=MTL/exp/nnet3/multitask']
use_multitask_egs=True
### ============== ###
### END TRAIN NNET ###
### ============== ###
### ========================== ###
### SPLIT & COPY NNET PER TASK ###
### ========================== ###
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100D-org/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100D-org/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100D-org/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100D-org.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100D-org MTL/exp/atai-100D-org/nnet3/egs
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100D-mod/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100D-mod/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-1 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100D-mod/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100D-mod.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100D-mod MTL/exp/atai-100D-mod/nnet3/egs
### ============== ###
### BEGIN DECODING ###
### ============== ###
./run_nnet3_multitask.sh: line 335: 4: command not found
### decoding with  jobs, unigram LM ###
steps/nnet3/decode.sh --nj 4 --cmd utils/run.pl --max-active 250 --min-active 100 exp_atai-100D-org/triphones/graph data_atai-100D-org/test MTL/exp/nnet3/multitask/decode MTL/exp/nnet3/multitask/atai-100D-org/final_adj.mdl SPOKEN_NOISE SIL
steps/nnet3/decode.sh: feature type is raw
Decoding done.

#### BEGIN CALCULATE WER ####
###==============###
### END DECODING ###
###==============###

###### BEGIN TASK INFO ######
task= atai-100E-org
num_targets= 696
data_dir= MTL/data/atai-100E-org/train
ali_dir= MTL/exp/atai-100E-org/tri_ali
egs_dir= MTL/exp/atai-100E-org/nnet3/egs
###### END TASK INFO ######


###### BEGIN TASK INFO ######
task= atai-100E-mod
num_targets= 696
data_dir= MTL/data/atai-100E-mod/train
ali_dir= MTL/exp/atai-100E-mod/tri_ali
egs_dir= MTL/exp/atai-100E-mod/nnet3/egs
###### END TASK INFO ######

### ============================ ###
### CREATE CONFIG FILES FOR NNET ###
### ============================ ###
feat-to-dim scp:MTL/data/atai-100E-org/train/feats.scp - 
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
steps/nnet3/xconfig_to_configs.py --xconfig-file MTL/exp/nnet3/multitask/configs/network.xconfig --config-dir MTL/exp/nnet3/multitask/configs/ --nnet-edits=rename-node old-name=output-0 new-name=output
### ====================================== ###
### COMBINE ALL TASKS EGS INTO ONE BIG DIR ###
### ====================================== ###
steps/nnet3/multilingual/combine_egs.sh --cmd utils/run.pl --lang2weight 0.8,0.2 2 MTL/exp/atai-100E-org/nnet3/egs MTL/exp/atai-100E-mod/nnet3/egs MTL/exp/nnet3/multitask/egs
steps/nnet3/multilingual/combine_egs.sh: allocating multilingual examples for training.
steps/nnet3/multilingual/combine_egs.sh: combine combine.scp examples from all langs in MTL/exp/nnet3/multitask/egs/combine.scp.
steps/nnet3/multilingual/combine_egs.sh: combine train_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/train_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: combine valid_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/valid_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: Finished preparing multilingual training example.
### ================ ###
### BEGIN TRAIN NNET ###
### ================ ###
2018-08-15 19:35:37,178 [steps/nnet3/train_raw_dnn.py:34 - <module> - INFO ] Starting raw DNN trainer (train_raw_dnn.py)
2018-08-15 19:35:37,183 [steps/nnet3/train_raw_dnn.py:181 - train - INFO ] Arguments for the experiment
{'backstitch_training_interval': 1,
 'backstitch_training_scale': 0.0,
 'cleanup': True,
 'cmvn_opts': '--norm-means=false --norm-vars=false',
 'combine_sum_to_one_penalty': 0.0,
 'command': 'utils/run.pl',
 'compute_average_posteriors': False,
 'compute_per_dim_accuracy': False,
 'dir': 'MTL/exp/nnet3/multitask',
 'do_final_combination': True,
 'dropout_schedule': None,
 'egs_command': None,
 'egs_dir': 'MTL/exp/nnet3/multitask/egs',
 'egs_opts': None,
 'egs_stage': 0,
 'email': None,
 'exit_stage': None,
 'feat_dir': 'MTL/data/atai-100E-org/train',
 'final_combination': True,
 'final_effective_lrate': 0.00015,
 'frames_per_eg': 8,
 'image_augmentation_opts': None,
 'initial_effective_lrate': 0.0015,
 'max_lda_jobs': 10,
 'max_models_combine': 20,
 'max_objective_evaluations': 30,
 'max_param_change': 2.0,
 'minibatch_size': '256,128',
 'momentum': 0.0,
 'nj': 4,
 'num_epochs': 2.0,
 'num_jobs_compute_prior': 10,
 'num_jobs_final': 1,
 'num_jobs_initial': 1,
 'online_ivector_dir': None,
 'preserve_model_interval': 100,
 'presoftmax_prior_scale_power': -0.25,
 'prior_subset_size': 20000,
 'proportional_shrink': 0.0,
 'rand_prune': 4.0,
 'remove_egs': True,
 'reporting_interval': 0.1,
 'samples_per_iter': 10000,
 'shuffle_buffer_size': 5000,
 'srand': 0,
 'stage': -5,
 'targets_scp': 'MTL/exp/atai-100E-org/tri_ali',
 'transform_dir': None,
 'use_dense_targets': False,
 'use_gpu': True}
2018-08-15 19:35:37,191 [steps/nnet3/train_raw_dnn.py:294 - train - INFO ] Preparing the initial network.
2018-08-15 19:35:37,618 [steps/nnet3/train_raw_dnn.py:328 - train - INFO ] Training will run for 2.0 epochs = 32 iterations
2018-08-15 19:35:37,618 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 0)
2018-08-15 19:35:37,622 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 0, learning rate is 0.0015.
2018-08-15 19:36:09,856 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 1)
2018-08-15 19:36:09,876 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 1, learning rate is 0.0013958580613945483.
2018-08-15 19:36:38,979 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 2)
2018-08-15 19:36:38,992 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 2, learning rate is 0.001298946485040098.
2018-08-15 19:37:12,391 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 3)
2018-08-15 19:37:12,404 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 3, learning rate is 0.0012087632816422226.
2018-08-15 19:37:48,706 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 4)
2018-08-15 19:37:48,733 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 4, learning rate is 0.0011248413139986837.
2018-08-15 19:38:23,490 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 5)
2018-08-15 19:38:23,504 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 5, learning rate is 0.0010467458772897994.
2018-08-15 19:38:57,687 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 6)
2018-08-15 19:38:57,708 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 6, learning rate is 0.000974072447364317.
2018-08-15 19:39:33,122 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 7)
2018-08-15 19:39:33,152 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 7, learning rate is 0.0009064445853571992.
2018-08-15 19:40:07,920 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 8)
2018-08-15 19:40:07,960 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 8, learning rate is 0.0008435119877855236.
2018-08-15 19:40:42,872 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 9)
2018-08-15 19:40:42,892 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 9, learning rate is 0.0007849486720222419.
2018-08-15 19:41:16,943 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 10)
2018-08-15 19:41:16,972 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 10, learning rate is 0.0007304512877487946.
2018-08-15 19:41:51,723 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 11)
2018-08-15 19:41:51,744 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 11, learning rate is 0.0006797375456401227.
2018-08-15 19:42:26,996 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 12)
2018-08-15 19:42:27,016 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 12, learning rate is 0.0006325447551428733.
2018-08-15 19:43:02,693 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 13)
2018-08-15 19:43:02,716 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 13, learning rate is 0.0005886284637726803.
2018-08-15 19:43:38,227 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 14)
2018-08-15 19:43:38,240 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 14, learning rate is 0.0005477611908822565.
2018-08-15 19:44:14,183 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 15)
2018-08-15 19:44:14,194 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 15, learning rate is 0.0005097312493413838.
2018-08-15 19:44:48,176 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 16)
2018-08-15 19:44:48,187 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 16, learning rate is 0.00047434164902525685.
2018-08-15 19:45:22,703 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 17)
2018-08-15 19:45:22,724 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 17, learning rate is 0.0004414090764313922.
2018-08-15 19:45:57,360 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 18)
2018-08-15 19:45:57,380 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 18, learning rate is 0.0004107629451396541.
2018-08-15 19:46:33,143 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 19)
2018-08-15 19:46:33,156 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 19, learning rate is 0.0003822445121969019.
2018-08-15 19:47:07,327 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 20)
2018-08-15 19:47:07,341 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 20, learning rate is 0.0003557060558492482.
2018-08-15 19:47:49,166 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 21)
2018-08-15 19:47:49,180 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 21, learning rate is 0.0003310101103626884.
2018-08-15 19:48:19,720 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 22)
2018-08-15 19:48:19,740 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 22, learning rate is 0.0003080287539685719.
2018-08-15 19:48:54,719 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 23)
2018-08-15 19:48:54,730 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 23, learning rate is 0.00028664294624556604.
2018-08-15 19:49:29,240 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 24)
2018-08-15 19:49:29,279 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 24, learning rate is 0.0002667419115058384.
2018-08-15 19:50:05,064 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 25)
2018-08-15 19:50:05,076 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 25, learning rate is 0.0002482225649914772.
2018-08-15 19:50:39,374 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 26)
2018-08-15 19:50:39,388 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 26, learning rate is 0.00023098897890892373.
2018-08-15 19:51:14,228 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 27)
2018-08-15 19:51:14,248 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 27, learning rate is 0.0002149518855355444.
2018-08-15 19:51:50,330 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 28)
2018-08-15 19:51:50,344 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 28, learning rate is 0.00020002821482449862.
2018-08-15 19:52:24,080 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 29)
2018-08-15 19:52:24,112 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 29, learning rate is 0.0001861406641127579.
2018-08-15 19:52:59,435 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 30)
2018-08-15 19:52:59,448 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 30, learning rate is 0.00017321729770341867.
2018-08-15 19:53:35,195 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 31)
2018-08-15 19:53:35,209 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 31, learning rate is 0.00015.
2018-08-15 19:54:08,732 [steps/nnet3/train_raw_dnn.py:401 - train - INFO ] Doing final combination to produce final.raw
2018-08-15 19:54:08,732 [steps/libs/nnet3/train/frame_level_objf/common.py:468 - combine_models - INFO ] Combining {32, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31} models.
2018-08-15 19:54:31,668 [steps/nnet3/train_raw_dnn.py:423 - train - INFO ] Cleaning up the experiment directory MTL/exp/nnet3/multitask
MTL/exp/nnet3/multitask: num-iters=32 nj=1..1 num-params=6.8M
steps/nnet3/train_raw_dnn.py --stage=-5 --cmd=utils/run.pl --trainer.num-epochs 2 --trainer.optimization.num-jobs-initial=1 --trainer.optimization.num-jobs-final=1 --trainer.optimization.initial-effective-lrate=0.0015 --trainer.optimization.final-effective-lrate=0.00015 --trainer.optimization.minibatch-size=256,128 --trainer.samples-per-iter=10000 --trainer.max-param-change=2.0 --trainer.srand=0 --feat.cmvn-opts=--norm-means=false --norm-vars=false --feat-dir MTL/data/atai-100E-org/train --egs.dir MTL/exp/nnet3/multitask/egs --use-dense-targets false --targets-scp MTL/exp/atai-100E-org/tri_ali --cleanup.remove-egs true --use-gpu true --dir=MTL/exp/nnet3/multitask
['steps/nnet3/train_raw_dnn.py', '--stage=-5', '--cmd=utils/run.pl', '--trainer.num-epochs', '2', '--trainer.optimization.num-jobs-initial=1', '--trainer.optimization.num-jobs-final=1', '--trainer.optimization.initial-effective-lrate=0.0015', '--trainer.optimization.final-effective-lrate=0.00015', '--trainer.optimization.minibatch-size=256,128', '--trainer.samples-per-iter=10000', '--trainer.max-param-change=2.0', '--trainer.srand=0', '--feat.cmvn-opts=--norm-means=false --norm-vars=false', '--feat-dir', 'MTL/data/atai-100E-org/train', '--egs.dir', 'MTL/exp/nnet3/multitask/egs', '--use-dense-targets', 'false', '--targets-scp', 'MTL/exp/atai-100E-org/tri_ali', '--cleanup.remove-egs', 'true', '--use-gpu', 'true', '--dir=MTL/exp/nnet3/multitask']
use_multitask_egs=True
### ============== ###
### END TRAIN NNET ###
### ============== ###
### ========================== ###
### SPLIT & COPY NNET PER TASK ###
### ========================== ###
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
nnet3-am-init MTL/exp/atai-100E-org/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100E-org/final.mdl 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100E-org/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100E-org.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100E-org MTL/exp/atai-100E-org/nnet3/egs
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100E-mod/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100E-mod/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-1 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100E-mod/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100E-mod.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100E-mod MTL/exp/atai-100E-mod/nnet3/egs
### ============== ###
### BEGIN DECODING ###
### ============== ###
./run_nnet3_multitask.sh: line 335: 4: command not found
### decoding with  jobs, unigram LM ###
steps/nnet3/decode.sh --nj 4 --cmd utils/run.pl --max-active 250 --min-active 100 exp_atai-100E-org/triphones/graph data_atai-100E-org/test MTL/exp/nnet3/multitask/decode MTL/exp/nnet3/multitask/atai-100E-org/final_adj.mdl SPOKEN_NOISE SIL
steps/nnet3/decode.sh: feature type is raw
Decoding done.

#### BEGIN CALCULATE WER ####
###==============###
### END DECODING ###
###==============###

###### BEGIN TASK INFO ######
task= atai-100F-org
num_targets= 744
data_dir= MTL/data/atai-100F-org/train
ali_dir= MTL/exp/atai-100F-org/tri_ali
egs_dir= MTL/exp/atai-100F-org/nnet3/egs
###### END TASK INFO ######


###### BEGIN TASK INFO ######
task= atai-100F-mod
num_targets= 664
data_dir= MTL/data/atai-100F-mod/train
ali_dir= MTL/exp/atai-100F-mod/tri_ali
egs_dir= MTL/exp/atai-100F-mod/nnet3/egs
###### END TASK INFO ######

### ============================ ###
### CREATE CONFIG FILES FOR NNET ###
### ============================ ###
feat-to-dim scp:MTL/data/atai-100F-org/train/feats.scp - 
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
nnet3-init MTL/exp/nnet3/multitask/configs//ref.config MTL/exp/nnet3/multitask/configs//ref.raw 
LOG (nnet3-init[5.4.243-d604]:main():nnet3-init.cc:80) Initialized raw neural net and wrote it to MTL/exp/nnet3/multitask/configs//ref.raw
nnet3-info "nnet3-copy --edits='rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - |" 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/configs//ref.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/configs//ref.raw to -
steps/nnet3/xconfig_to_configs.py --xconfig-file MTL/exp/nnet3/multitask/configs/network.xconfig --config-dir MTL/exp/nnet3/multitask/configs/ --nnet-edits=rename-node old-name=output-0 new-name=output
### ====================================== ###
### COMBINE ALL TASKS EGS INTO ONE BIG DIR ###
### ====================================== ###
steps/nnet3/multilingual/combine_egs.sh --cmd utils/run.pl --lang2weight 0.8,0.2 2 MTL/exp/atai-100F-org/nnet3/egs MTL/exp/atai-100F-mod/nnet3/egs MTL/exp/nnet3/multitask/egs
steps/nnet3/multilingual/combine_egs.sh: allocating multilingual examples for training.
steps/nnet3/multilingual/combine_egs.sh: combine combine.scp examples from all langs in MTL/exp/nnet3/multitask/egs/combine.scp.
steps/nnet3/multilingual/combine_egs.sh: combine train_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/train_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: combine valid_diagnostic.scp examples from all langs in MTL/exp/nnet3/multitask/egs/valid_diagnostic.scp.
steps/nnet3/multilingual/combine_egs.sh: Finished preparing multilingual training example.
### ================ ###
### BEGIN TRAIN NNET ###
### ================ ###
2018-08-15 19:57:24,389 [steps/nnet3/train_raw_dnn.py:34 - <module> - INFO ] Starting raw DNN trainer (train_raw_dnn.py)
2018-08-15 19:57:24,394 [steps/nnet3/train_raw_dnn.py:181 - train - INFO ] Arguments for the experiment
{'backstitch_training_interval': 1,
 'backstitch_training_scale': 0.0,
 'cleanup': True,
 'cmvn_opts': '--norm-means=false --norm-vars=false',
 'combine_sum_to_one_penalty': 0.0,
 'command': 'utils/run.pl',
 'compute_average_posteriors': False,
 'compute_per_dim_accuracy': False,
 'dir': 'MTL/exp/nnet3/multitask',
 'do_final_combination': True,
 'dropout_schedule': None,
 'egs_command': None,
 'egs_dir': 'MTL/exp/nnet3/multitask/egs',
 'egs_opts': None,
 'egs_stage': 0,
 'email': None,
 'exit_stage': None,
 'feat_dir': 'MTL/data/atai-100F-org/train',
 'final_combination': True,
 'final_effective_lrate': 0.00015,
 'frames_per_eg': 8,
 'image_augmentation_opts': None,
 'initial_effective_lrate': 0.0015,
 'max_lda_jobs': 10,
 'max_models_combine': 20,
 'max_objective_evaluations': 30,
 'max_param_change': 2.0,
 'minibatch_size': '256,128',
 'momentum': 0.0,
 'nj': 4,
 'num_epochs': 2.0,
 'num_jobs_compute_prior': 10,
 'num_jobs_final': 1,
 'num_jobs_initial': 1,
 'online_ivector_dir': None,
 'preserve_model_interval': 100,
 'presoftmax_prior_scale_power': -0.25,
 'prior_subset_size': 20000,
 'proportional_shrink': 0.0,
 'rand_prune': 4.0,
 'remove_egs': True,
 'reporting_interval': 0.1,
 'samples_per_iter': 10000,
 'shuffle_buffer_size': 5000,
 'srand': 0,
 'stage': -5,
 'targets_scp': 'MTL/exp/atai-100F-org/tri_ali',
 'transform_dir': None,
 'use_dense_targets': False,
 'use_gpu': True}
2018-08-15 19:57:24,402 [steps/nnet3/train_raw_dnn.py:294 - train - INFO ] Preparing the initial network.
2018-08-15 19:57:24,828 [steps/nnet3/train_raw_dnn.py:328 - train - INFO ] Training will run for 2.0 epochs = 16 iterations
2018-08-15 19:57:24,828 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 0)
2018-08-15 19:57:24,831 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 0, learning rate is 0.0015.
2018-08-15 19:58:03,283 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 1)
2018-08-15 19:58:03,286 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 1, learning rate is 0.001298946485040098.
2018-08-15 19:58:32,604 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 2)
2018-08-15 19:58:32,620 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 2, learning rate is 0.0011248413139986837.
2018-08-15 19:59:12,039 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 3)
2018-08-15 19:59:12,052 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 3, learning rate is 0.000974072447364317.
2018-08-15 19:59:48,296 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 4)
2018-08-15 19:59:48,307 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 4, learning rate is 0.0008435119877855236.
2018-08-15 20:00:24,873 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 5)
2018-08-15 20:00:24,892 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 5, learning rate is 0.0007304512877487946.
2018-08-15 20:01:02,371 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 6)
2018-08-15 20:01:02,385 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 6, learning rate is 0.0006325447551428733.
2018-08-15 20:01:39,478 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 7)
2018-08-15 20:01:39,508 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 7, learning rate is 0.0005477611908822565.
2018-08-15 20:02:16,621 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 8)
2018-08-15 20:02:16,636 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 8, learning rate is 0.00047434164902525685.
2018-08-15 20:02:53,297 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 9)
2018-08-15 20:02:53,316 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 9, learning rate is 0.0004107629451396541.
2018-08-15 20:03:30,375 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 10)
2018-08-15 20:03:30,392 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 10, learning rate is 0.0003557060558492482.
2018-08-15 20:04:07,816 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 11)
2018-08-15 20:04:07,827 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 11, learning rate is 0.0003080287539685719.
2018-08-15 20:04:45,737 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 12)
2018-08-15 20:04:45,752 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 12, learning rate is 0.0002667419115058384.
2018-08-15 20:05:21,204 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 13)
2018-08-15 20:05:21,224 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 13, learning rate is 0.00023098897890892373.
2018-08-15 20:05:58,970 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 14)
2018-08-15 20:05:58,984 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 14, learning rate is 0.00020002821482449862.
2018-08-15 20:06:34,773 [steps/libs/nnet3/train/frame_level_objf/common.py:201 - train_one_iteration - INFO ] Training neural net (pass 15)
2018-08-15 20:06:34,796 [steps/libs/nnet3/train/frame_level_objf/common.py:267 - train_one_iteration - INFO ] On iteration 15, learning rate is 0.00015.
2018-08-15 20:07:12,058 [steps/nnet3/train_raw_dnn.py:401 - train - INFO ] Doing final combination to produce final.raw
2018-08-15 20:07:12,058 [steps/libs/nnet3/train/frame_level_objf/common.py:468 - combine_models - INFO ] Combining {9, 10, 11, 12, 13, 14, 15, 16} models.
2018-08-15 20:07:21,592 [steps/nnet3/train_raw_dnn.py:423 - train - INFO ] Cleaning up the experiment directory MTL/exp/nnet3/multitask
MTL/exp/nnet3/multitask: num-iters=15 nj=1..1 num-params=6.8M
steps/nnet3/train_raw_dnn.py --stage=-5 --cmd=utils/run.pl --trainer.num-epochs 2 --trainer.optimization.num-jobs-initial=1 --trainer.optimization.num-jobs-final=1 --trainer.optimization.initial-effective-lrate=0.0015 --trainer.optimization.final-effective-lrate=0.00015 --trainer.optimization.minibatch-size=256,128 --trainer.samples-per-iter=10000 --trainer.max-param-change=2.0 --trainer.srand=0 --feat.cmvn-opts=--norm-means=false --norm-vars=false --feat-dir MTL/data/atai-100F-org/train --egs.dir MTL/exp/nnet3/multitask/egs --use-dense-targets false --targets-scp MTL/exp/atai-100F-org/tri_ali --cleanup.remove-egs true --use-gpu true --dir=MTL/exp/nnet3/multitask
['steps/nnet3/train_raw_dnn.py', '--stage=-5', '--cmd=utils/run.pl', '--trainer.num-epochs', '2', '--trainer.optimization.num-jobs-initial=1', '--trainer.optimization.num-jobs-final=1', '--trainer.optimization.initial-effective-lrate=0.0015', '--trainer.optimization.final-effective-lrate=0.00015', '--trainer.optimization.minibatch-size=256,128', '--trainer.samples-per-iter=10000', '--trainer.max-param-change=2.0', '--trainer.srand=0', '--feat.cmvn-opts=--norm-means=false --norm-vars=false', '--feat-dir', 'MTL/data/atai-100F-org/train', '--egs.dir', 'MTL/exp/nnet3/multitask/egs', '--use-dense-targets', 'false', '--targets-scp', 'MTL/exp/atai-100F-org/tri_ali', '--cleanup.remove-egs', 'true', '--use-gpu', 'true', '--dir=MTL/exp/nnet3/multitask']
use_multitask_egs=True
### ============== ###
### END TRAIN NNET ###
### ============== ###
### ========================== ###
### SPLIT & COPY NNET PER TASK ###
### ========================== ###
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100F-org/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100F-org/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-0 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100F-org/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100F-org.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100F-org MTL/exp/atai-100F-org/nnet3/egs
./run_nnet3_multitask.sh: rename output name for each task to 'output' and 
add transition model.
nnet3-am-init MTL/exp/atai-100F-mod/tri_ali/final.mdl - MTL/exp/nnet3/multitask/atai-100F-mod/final.mdl 
nnet3-copy '--edits=rename-node old-name=output-1 new-name=output' MTL/exp/nnet3/multitask/final.raw - 
LOG (nnet3-copy[5.4.243-d604]:main():nnet3-copy.cc:114) Copied raw neural net from MTL/exp/nnet3/multitask/final.raw to -
LOG (nnet3-am-init[5.4.243-d604]:main():nnet3-am-init.cc:96) Initialized am-nnet (neural net acoustic model) and wrote to MTL/exp/nnet3/multitask/atai-100F-mod/final.mdl
./run_nnet3_multitask.sh: compute average posterior and readjust priors for task atai-100F-mod.
steps/nnet3/adjust_priors.sh MTL/exp/nnet3/multitask/atai-100F-mod MTL/exp/atai-100F-mod/nnet3/egs
### ============== ###
### BEGIN DECODING ###
### ============== ###
./run_nnet3_multitask.sh: line 335: 4: command not found
### decoding with  jobs, unigram LM ###
steps/nnet3/decode.sh --nj 4 --cmd utils/run.pl --max-active 250 --min-active 100 exp_atai-100F-org/triphones/graph data_atai-100F-org/test MTL/exp/nnet3/multitask/decode MTL/exp/nnet3/multitask/atai-100F-org/final_adj.mdl SPOKEN_NOISE SIL
steps/nnet3/decode.sh: feature type is raw
Decoding done.

#### BEGIN CALCULATE WER ####
###==============###
### END DECODING ###
###==============###
